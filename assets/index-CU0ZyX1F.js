const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./errorView-DGiOFpvb.js","./vendor-Cuht9B3q.js","./vendor-BGJuwBob.css"])))=>i.map(i=>d[i]);
import{d as C,r as ae,o as g,b as x,e as be,s as ye,f as se,g as ke,h as Se,N as ue,i as Pe,E as we,c as b,a as P,j as Ee,k as $,l as w,u as H,m as l,n as S,t as V,p as m,w as r,q as z,v as ie,x as Le,F as T,y as ce,z as j,A as xe,B as Ce,C as Ve,D as Te,G as Oe,H as $e,I as Re,J as Ie,K as Ne,L as je,M as B,O as A,P as ze,Q as de,R as q,S as Y,T as F,U as Z,V as ee,W as Ue,X as Ae,Y as Me,Z as _e,_ as Be,$ as De,a0 as He,a1 as qe,a2 as Fe,a3 as Je,a4 as We,a5 as Ge,a6 as Ke,a7 as Qe,a8 as Xe,a9 as Ye}from"./vendor-Cuht9B3q.js";import"./index-CU0ZyX1F.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))d(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();const Ze=C({__name:"App",setup(t){return(e,o)=>{const d=ae("RouterView");return g(),x(d)}}}),et="modulepreload",tt=function(t,e){return new URL(t,e).href},ne={},O=function(e,o,d){let a=Promise.resolve();if(o&&o.length>0){const c=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),u=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=Promise.allSettled(o.map(_=>{if(_=tt(_,d),_ in ne)return;ne[_]=!0;const v=_.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(!!d)for(let h=c.length-1;h>=0;h--){const k=c[h];if(k.href===_&&(!v||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${y}`))return;const n=document.createElement("link");if(n.rel=v?"stylesheet":et,v||(n.as="script"),n.crossOrigin="",n.href=_,u&&n.setAttribute("nonce",u),document.head.appendChild(n),v)return new Promise((h,k)=>{n.addEventListener("load",h),n.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function i(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return a.then(c=>{for(const p of c||[])p.status==="rejected"&&i(p.reason);return e().catch(i)})},ot={path:"/",name:"Layout",redirect:"/",component:()=>O(()=>Promise.resolve().then(()=>Ot),void 0,import.meta.url),meta:{role:["common","admin"],parentRouter:"Home"},children:[{path:"/",name:"HomePage",component:()=>O(()=>Promise.resolve().then(()=>Nt),void 0,import.meta.url),meta:{isShow:!0,title:"默认首页",parentRouter:"Layout"}},{path:"/user",name:"UserPage",component:()=>O(()=>Promise.resolve().then(()=>Bt),void 0,import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"}},{path:"/role",name:"RolePage",component:()=>O(()=>Promise.resolve().then(()=>qt),void 0,import.meta.url),meta:{title:"角色模块",isShow:!0,parentRouter:"Layout"}},{path:"/auth",name:"AuthPage",component:()=>O(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url),meta:{title:"权限模块",isShow:!0,parentRouter:"Layout"}},{path:"/about",name:"AboutPage",component:()=>O(()=>Promise.resolve().then(()=>Zt),void 0,import.meta.url),meta:{title:"关于模块",isShow:!0,parentRouter:"Layout"}},{path:"/project",name:"projectPage",component:()=>O(()=>Promise.resolve().then(()=>lo),void 0,import.meta.url),meta:{isShow:!0,title:"项目模块",parentRouter:"Layout"}},{path:"/p",name:"ParentPage",meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{isShow:!0,title:"子菜单1",parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{isShow:!0,title:"子菜单2",parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{isShow:!0,title:"子菜单3",parentRouter:"ParentPage"}}]},{path:"/errorView",name:"ErrorViewPage",component:()=>O(()=>import("./errorView-DGiOFpvb.js"),__vite__mapDeps([0,1,2]),import.meta.url),meta:{isShow:!0,title:"生产错误"}},{path:"/errorList",name:"ErrorListPage",component:()=>O(()=>Promise.resolve().then(()=>so),void 0,import.meta.url),meta:{isShow:!0,title:"错误列表"}}]},nt=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),lt={path:"/login",name:"login",component:()=>O(()=>Promise.resolve().then(()=>po),void 0,import.meta.url),meta:{},children:[]},rt=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"}));var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const J=be();J.use(ye);const at=se("setting",{state:()=>({title:[],isCollapse:!1,isTagsView:!0,isBreadcrumb:!0,isLogo:!0,isFullScreen:!1}),actions:{setTitle(t){this.title=t},setCollapse(){this.isCollapse=!this.isCollapse},setTagsView(){this.isTagsView=!this.isTagsView},setBreadcrumb(){this.isBreadcrumb=!this.isBreadcrumb}},persist:{key:"setting",storage:sessionStorage}});function me(){return at(J)}const le=Object.assign({"./modules/home.ts":nt,"./modules/login.ts":rt}),pe=[];Object.keys(le).forEach(t=>pe.push(le[t].default));const te=ke({history:Se(),routes:pe});me();te.beforeEach((t,e,o)=>{ue.start(),o()});te.afterEach(()=>{ue.done()});const W=Pe(Ze);W.use(te);W.use(J);W.config.errorHandler=(t,e,o)=>{const a={stack_frames:we.parse(t),message:t.message,stack:t.stack,error_name:t.name};console.error(`触发一个${t.name}错误`),localStorage.setItem("jsErrorList",JSON.stringify(a))};W.mount("#app");const st={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function ut(t,e){return g(),b("svg",st,e[0]||(e[0]=[P("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1)]))}const it={name:"ep-close",render:ut},ct={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function dt(t,e){return g(),b("svg",ct,e[0]||(e[0]=[P("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1)]))}const _t={name:"ep-setting",render:dt},mt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function pt(t,e){return g(),b("svg",mt,e[0]||(e[0]=[P("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1)]))}const ft={name:"ep-user",render:pt},re=t=>{let e="";switch(t){case 400:e="请求错误(400)";break;case 403:e="拒绝访问(403)";break;case 401:e="未授权(401)";break;case 500:e="服务器错误(500)";break;case 503:e="服务不可用(503)";break;default:e=`连接出错(${t})!`}return e},G=Ee.create({baseURL:"/api",timeout:15e3});G.interceptors.request.use(t=>t,t=>Promise.reject(t));G.interceptors.response.use(t=>(t.status===200||$.error(re(t.status)),t),t=>{const{response:e}=t;return e?($.error(re(e.status)),Promise.reject(e.data)):($.error("网络连接异常，请稍后再试！"),Promise.reject(t))});const fe=t=>{const e=t;return new Promise((o,d)=>{G.request(e).then(a=>{const i=a.data;i.code!=0?($({message:i.message,type:"error"}),d(i.message)):($({message:i.message,type:"success"}),o(i.data))})})};function oe(t,e,o){return fe({...t,url:e,method:"GET",params:o})}function ge(t,e,o){return fe({...t,url:e,method:"POST",data:o})}const gt=async t=>ge({},"/login",t),ht=async t=>ge({},"/getUserInfo",t),vt=async t=>G({url:"/getAuthList",method:"get",data:t}),he=se("userInfo",{state:()=>({username:"Topskys",accessToken:"",roles:["admin"]}),getters:{},actions:{storeUserLogin(t){return gt(t).then(e=>{const{roles:o=[],username:d,accessToken:a}=e;return this.roles=o,this.username=d,this.accessToken=a,e})},storeRefreshUserInfo(){this.username=="Topskys"&&this.accessToken!=""&&ht({accessToken:this.accessToken}).then(t=>(this.roles=t.roles,this.username=t.username,this.accessToken=t.accessToken,t)).catch(()=>{this.accessToken=" "})}},persist:{key:"userInfo",storage:sessionStorage}});function bt(){return he(J)}const yt={class:"header"},kt={class:"flex-center m05 color-dark-black"},St={class:"setting-header"},Pt={class:"logout"},wt=C({__name:"Header",setup(t){let e=w(!1);const o=H(),{username:d}=he(),a=()=>{e.value=!e.value},i=()=>{e.value=!1},c=()=>{sessionStorage.removeItem("userInfo"),o.push("/login")};return(p,u)=>{const _=ft,v=_t,y=it,s=z,n=Le;return g(),b(T,null,[P("div",yt,[u[1]||(u[1]=P("div",{class:"flex-center"},"logo",-1)),u[2]||(u[2]=P("div",{class:"flex-grow"},null,-1)),P("div",kt,[l(_),S(" "+V(m(d)),1)]),P("div",{class:"flex-center m05 color-dark-black setting",onClick:a},[l(v)])]),l(n,{modelValue:m(e),"onUpdate:modelValue":u[0]||(u[0]=h=>ie(e)?e.value=h:e=h),title:"设置",size:"30%",direction:"rtl","width-header":!1,"show-close":!1,"append-to-body":""},{default:r(()=>[P("div",St,[u[3]||(u[3]=P("h2",null,"项目配置",-1)),l(y,{onClick:i})]),P("div",Pt,[l(s,{type:"primary",onClick:c},{default:r(()=>u[4]||(u[4]=[S("退出")])),_:1})])]),_:1},8,["modelValue"])],64)}}}),U=(t,e)=>{const o=t.__vccOpts||t;for(const[d,a]of e)o[d]=a;return o},Et=U(wt,[["__scopeId","data-v-7d047d29"]]),Lt=C({__name:"Aside",setup(t){var c;const e=ce(),d=(c=H().options.routes[0].children)==null?void 0:c.filter(p=>{var u;return(u=p.meta)==null?void 0:u.isShow}),a=w(!1),i=e.path;return(p,u)=>{const _=xe,v=Ce,y=Ve;return g(),x(y,{"default-active":m(i),class:"el-menu-vertical",collapse:a.value,router:""},{default:r(()=>[(g(!0),b(T,null,j(m(d),s=>(g(),b(T,{key:s.path},[s.children?(g(),x(v,{key:1,index:s.path},{title:r(()=>{var n;return[P("span",null,V((n=s.meta)==null?void 0:n.title),1)]}),default:r(()=>[(g(!0),b(T,null,j(s.children,n=>(g(),x(_,{key:n.path,index:n.path},{default:r(()=>{var h;return[P("span",null,V((h=n.meta)==null?void 0:h.title),1)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(g(),x(_,{key:0,index:s.path},{default:r(()=>{var n;return[S(V((n=s.meta)==null?void 0:n.title),1)]}),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])}}}),xt=C({__name:"Breadcrumb",setup(t){const e=me();return(o,d)=>{const a=Te,i=$e;return g(),x(i,{"separator-icon":m(Oe)},{default:r(()=>[(g(!0),b(T,null,j(m(e).title,c=>(g(),x(a,{key:c,to:{name:c}},{default:r(()=>[S(V(c),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])}}}),Ct=U(xt,[["__scopeId","data-v-b9640813"]]),Vt=C({__name:"index",setup(t){return(e,o)=>{const d=Re,a=Ne,i=ae("router-view"),c=je,p=Ie;return g(),x(p,null,{default:r(()=>[l(d,null,{default:r(()=>[l(Et)]),_:1}),l(p,{class:"main-container"},{default:r(()=>[l(a,null,{default:r(()=>[l(Lt)]),_:1}),l(c,null,{default:r(()=>[l(Ct),l(i)]),_:1})]),_:1})]),_:1})}}}),Tt=U(Vt,[["__scopeId","data-v-b3d6f927"]]),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),$t=t=>oe({},"/projects",t),Rt={class:"home"},It=C({__name:"index",setup(t){let e=w([]),o=B({currentPage:1,pageSize:10,dataCount:0,title:"",introduce:""});const d=()=>{$t().then(u=>{e.value=u||[],o.dataCount=u.length})};A(()=>{d()});let a=ze(()=>e.value.slice((o.currentPage-1)*o.pageSize,o.currentPage*o.pageSize));const i=u=>{o.currentPage=u},c=u=>{o.pageSize=u},p=()=>{let u=e.value;o.title&&(u=e.value.filter(_=>_.title.indexOf(o.title)>-1)),o.introduce&&(u=e.value.filter(_=>_.introduce.indexOf(o.introduce)>-1)),e.value=u,o.currentPage=1,o.dataCount=u.length};return de([()=>o.title,()=>o.introduce],()=>{d()}),(u,_)=>{const v=Y,y=q,s=z,n=F,h=Z,k=ee,E=Ue;return g(),b("div",Rt,[l(n,{inline:"",model:m(o),class:"search-form"},{default:r(()=>[l(y,{label:"项目名称"},{default:r(()=>[l(v,{modelValue:m(o).title,"onUpdate:modelValue":_[0]||(_[0]=L=>m(o).title=L),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),l(y,{label:"项目详情"},{default:r(()=>[l(v,{modelValue:m(o).introduce,"onUpdate:modelValue":_[1]||(_[1]=L=>m(o).introduce=L),placeholder:"请输入项目详情"},null,8,["modelValue"])]),_:1}),l(y,null,{default:r(()=>[l(s,{type:"primary",onClick:p},{default:r(()=>_[4]||(_[4]=[S("查询")])),_:1})]),_:1})]),_:1},8,["model"]),l(k,{data:m(a),border:"",style:{width:"100%"}},{default:r(()=>[l(h,{prop:"id",label:"编号",width:"180"}),l(h,{prop:"title",label:"标题",width:"180"}),l(h,{prop:"introduce",label:"描述"})]),_:1},8,["data"]),l(E,{"current-page":m(o).currentPage,"onUpdate:currentPage":_[2]||(_[2]=L=>m(o).currentPage=L),"page-size":m(o).pageSize,"onUpdate:pageSize":_[3]||(_[3]=L=>m(o).pageSize=L),background:"","page-sizes":[5,10,15,20,25,30],size:"default",layout:"total,prev, pager, next,sizes",total:m(o).dataCount,onSizeChange:c,onCurrentChange:i},null,8,["current-page","page-size","total"])])}}}),Nt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),ve=async t=>oe({},"/getRoleList",t),jt=async t=>oe({},"/getUserList",t),zt={class:"container"},Ut={class:"dialog-footer"},At=C({__name:"index",setup(t){const e=w([]),o=B({nickName:"",role:0}),d=w([]),a=w(!1);let i=B({id:0,nickName:"",role:[],userName:""});const c=s=>{Object.assign(i,{...s,role:s.role.map(n=>n.role)}),a.value=!0},p=()=>{a.value=!1;let s=e.value.find(n=>n.id===i.id);s.nickName=i.nickName,s.role=[],d.value.forEach(n=>{i.role.find(h=>h===n.roleId)&&s.role.push({role:n.roleId,roleName:n.roleName})})},u=s=>{console.log(s)},_=()=>{jt().then(s=>{e.value=s}).catch(()=>{})},v=()=>{ve().then(s=>{d.value=s}).catch(()=>{})};A(()=>{_(),v()});const y=()=>{let s=[];o.nickName||o.role?(o.nickName&&(s=e.value.filter(n=>n.nickName.indexOf(o.nickName)!==-1)),o.role&&(s=o.nickName?s:e.value,s=s.filter(n=>n.role.find(h=>h.role===o.role)))):s=e.value,e.value=s};return de([()=>o.nickName,()=>o.role],(s,n)=>{(o.nickName===""||o.role===0)&&y()}),(s,n)=>{const h=Y,k=q,E=Me,L=Ae,R=z,D=F,N=Z,K=ee,Q=_e;return g(),b("div",zt,[l(D,{inline:"",model:m(o),class:"search-form"},{default:r(()=>[l(k,{label:"姓名",prop:"nickName"},{default:r(()=>[l(h,{modelValue:m(o).nickName,"onUpdate:modelValue":n[0]||(n[0]=f=>m(o).nickName=f),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),l(k,{label:"角色",prop:"role"},{default:r(()=>[l(L,{modelValue:m(o).role,"onUpdate:modelValue":n[1]||(n[1]=f=>m(o).role=f),placeholder:"请选择角色",multiple:"",class:"w192"},{default:r(()=>[(g(),x(E,{key:0,label:"全部",value:0})),(g(!0),b(T,null,j(m(d),f=>(g(),x(E,{key:f.roleId,label:f.roleName,value:f.roleId},{default:r(()=>[S(V(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(k,null,{default:r(()=>[l(R,{type:"primary",onClick:y},{default:r(()=>n[6]||(n[6]=[S("查询")])),_:1})]),_:1})]),_:1},8,["model"]),l(K,{data:m(e),border:"",style:{width:"100%"}},{default:r(()=>[l(N,{prop:"id",label:"ID",width:"180"}),l(N,{prop:"nickName",label:"姓名"}),l(N,{prop:"role",label:"角色"},{default:r(f=>[(g(!0),b(T,null,j(f.row.role,I=>(g(),x(R,{key:I.role,link:"",type:"primary",size:"small"},{default:r(()=>[S(V(I.roleName),1)]),_:2},1024))),128))]),_:1}),l(N,{label:"操作"},{default:r(f=>[l(R,{type:"primary",size:"small",link:"",onClick:I=>c(f.row)},{default:r(()=>n[7]||(n[7]=[S("编辑")])),_:2},1032,["onClick"]),l(R,{type:"danger",size:"small",link:"",onClick:I=>u(f.row)},{default:r(()=>n[8]||(n[8]=[S("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(Q,{modelValue:m(a),"onUpdate:modelValue":n[5]||(n[5]=f=>ie(a)?a.value=f:null),title:"编辑用户信息"},{footer:r(()=>[P("span",Ut,[l(R,{onClick:n[4]||(n[4]=f=>a.value=!1)},{default:r(()=>n[9]||(n[9]=[S("取消")])),_:1}),l(R,{type:"primary",onClick:p},{default:r(()=>n[10]||(n[10]=[S("确定")])),_:1})])]),default:r(()=>[l(D,{model:m(i),size:"large"},{default:r(()=>[l(k,{label:"用户昵称"},{default:r(()=>[l(h,{modelValue:m(i).nickName,"onUpdate:modelValue":n[2]||(n[2]=f=>m(i).nickName=f),autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(k,{label:"用户角色"},{default:r(()=>[l(L,{modelValue:m(i).role,"onUpdate:modelValue":n[3]||(n[3]=f=>m(i).role=f),placeholder:"请选择角色",multiple:""},{default:r(()=>[(g(!0),b(T,null,j(m(d),f=>(g(),x(E,{key:f.roleId,label:f.roleName,value:f.roleId},{default:r(()=>[S(V(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Mt=U(At,[["__scopeId","data-v-e9ab6625"]]),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),Dt={class:"container"},Ht=C({__name:"index",setup(t){let e=w([]);const o=H(),d=()=>{ve().then(c=>{e.value=c})};A(()=>{d()});const a=()=>{Be.prompt("请输入角色名称!","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:c,action:p})=>{c&&(e.value.push({role:e.value.length+1,roleName:c,authority:[]}),$({type:"success",message:`${c}添加成功`}))}).catch(c=>{$({type:"info",message:"点击了取消按钮"})})},i=c=>{o.push({path:"auth",query:{id:c.role,auth:c.authority}})};return(c,p)=>{const u=z,_=q,v=F,y=Z,s=ee;return g(),b("div",Dt,[l(v,null,{default:r(()=>[l(_,null,{default:r(()=>[l(u,{type:"primary",onClick:a},{default:r(()=>p[0]||(p[0]=[S("新增角色")])),_:1})]),_:1})]),_:1}),l(s,{data:m(e),border:"",style:{width:"100%"}},{default:r(()=>[l(y,{prop:"roleId",label:"ID",width:"180px"}),l(y,{prop:"roleName",label:"角色名称",width:"180px"}),l(y,{label:"操作"},{default:r(n=>[l(u,{type:"primary",size:"small",link:"",onClick:h=>i(n.row)},{default:r(()=>p[1]||(p[1]=[S("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}}),qt=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),Ft={class:"container"},Jt=C({__name:"index",setup(t){const e=ce(),{query:o}=e;let d=w([]),a=w(null),i=w([]);o.auth&&(i.value=o.auth);const c=()=>{vt().then(u=>{d.value=u.data.data})};A(()=>{c()});const p=()=>{a.value.getCheckedNodes()};return(u,_)=>{const v=De,y=z;return g(),b("div",Ft,[l(v,{ref_key:"treeRef",ref:a,data:m(d),props:{children:"roleList",label:"name"},"show-checkbox":"","node-key":"roleId","default-expand-all":"","highlight-current":"","check-strictly":!0,"default-checked-keys":m(i)},null,8,["data","default-checked-keys"]),l(y,{type:"primary",onClick:p},{default:r(()=>_[0]||(_[0]=[S("修改权限")])),_:1})])}}}),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),Gt={class:"custom-tag"},Kt=C({__name:"Tag",props:{text:{type:String,default:null,require:!1},theme:{type:String,default:null,require:!1}},setup(t){const e=t,o=w(),d=()=>{o.value.innerHTML=e.text},a=()=>{o.value.style.backgroundColor=e.theme};return A(()=>{d(),a()}),(i,c)=>(g(),b("div",Gt,[P("span",He(e,{ref_key:"tagRef",ref:o,class:"tag"}),null,16)]))}}),Qt=U(Kt,[["__scopeId","data-v-57ad97aa"]]),Xt={class:"container"},Yt=C({__name:"index",setup(t){return(e,o)=>{const d=Qt;return g(),b("div",Xt,[l(d,{text:"CustomTag",theme:"blue"}),l(d,{text:"测试自定义组件",theme:"blue"})])}}}),Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),eo={},to={class:"container"};function oo(t,e){return g(),b("div",to,"user")}const no=U(eo,[["render",oo]]),lo=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),ro={key:0},ao=C({__name:"ErrorList",setup(t){const e=w([]),o=w(!1),d=w("1"),a=w(!1),i=w("local");let c={line:0,column:0,index:null};const p=()=>{try{const s=localStorage.getItem("jsErrorList");if(!s)return;e.value=JSON.parse(s),o.value=!0}catch(s){console.log("获取错误列表失败",s)}};A(()=>{p()});const u=s=>{},_=(s,n)=>{a.value=!0,c={line:s.lineNumber,column:s.columnNumber,index:n}},v=async s=>{if(s.name.substring(s.name.lastIndexOf(".")+1)!=="map"){$({message:"请上传正确的sourcemap文件",type:"error"});return}const n=new FileReader;n.readAsText(s),n.onload=async function(h){var E;const k=await y((E=h==null?void 0:h.target)==null?void 0:E.result,c.line,c.column);e.value.stack_frames[c.index].originalSource=k==null?void 0:k.source,a.value=!1}},y=async(s,n,h)=>{try{const k=await new Ye.SourceMapConsumer(JSON.parse(s)),E=k.originalPositionFor({line:n,column:h}),L=k.sourceContentFor(E.source);return console.log("source",L),{source:L,line:E.line,column:E.column}}catch{$.error("sourcemap解析失败")}};return(s,n)=>{const h=Je,k=z,E=Fe,L=qe,R=We,D=Qe,N=Ke,K=Ge,Q=_e;return o.value?(g(),b("div",ro,[l(R,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=f=>d.value=f),onChange:u},{default:r(()=>[(g(!0),b(T,null,j(e.value.stack_frames,(f,I)=>(g(),x(L,{key:I,title:f.source,name:I},{default:r(()=>[l(E,{gutter:20},{default:r(()=>[l(h,{span:20},{default:r(()=>[S(V(f.fileName),1)]),_:2},1024),l(h,{span:4},{default:r(()=>[l(k,{type:"primary",size:"small",onClick:fo=>_(f,I)},{default:r(()=>n[3]||(n[3]=[S("映射源码")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),l(E,{gutter:20},{default:r(()=>[f.originalSource?(g(),b(T,{key:0},[S(V(f.originalSource),1)],64)):(g(),b(T,{key:1},[S(V(f.functionName),1)],64))]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),l(Q,{modelValue:a.value,"onUpdate:modelValue":n[2]||(n[2]=f=>a.value=f),title:"SourceMap源码映射",width:"500"},{default:r(()=>[l(K,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=f=>i.value=f)},{default:r(()=>[l(N,{label:"本地上传",name:"local"},{default:r(()=>[l(D,{drag:"","before-upload":v},{default:r(()=>n[4]||(n[4]=[P("i",{class:"el-icon-upload"},null,-1),P("div",null,[S("将文件拖拽到此处，或者"),P("em",null,"点击上传")],-1)])),_:1})]),_:1}),l(N,{label:"远程加载",name:"remote"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])):Xe("",!0)}}}),so=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"}));let X="",M=null;function uo(t){const{type:e=""}=t;M&&e===X||(X=e,M&&M.close(),M=$({...t,onClose:()=>{X="",M=null}}))}function io(){return w()}const co={class:"login-box"},_o=C({__name:"index",setup(t){const e=io(),{storeUserLogin:o}=bt(),d=H(),a=B({username:"admin",password:"admin"}),i=B({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=p=>{p&&p.validate(u=>{u?o(a).then(()=>{d.push("/")}):uo({message:"用户名或密码错误",type:"error"})})};return(p,u)=>{const _=Y,v=q,y=z,s=F;return g(),b("div",co,[l(s,{ref_key:"formRef",ref:e,rules:m(i),model:m(a),size:"large",class:"form"},{default:r(()=>[u[4]||(u[4]=P("span",{class:"form-title"},"企业中台登录",-1)),l(v,{prop:"username"},{default:r(()=>[l(_,{modelValue:m(a).username,"onUpdate:modelValue":u[0]||(u[0]=n=>m(a).username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),l(v,{prop:"password"},{default:r(()=>[l(_,{modelValue:m(a).password,"onUpdate:modelValue":u[1]||(u[1]=n=>m(a).password=n),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),l(v,null,{default:r(()=>[l(y,{type:"primary",class:"submit-button",onClick:u[2]||(u[2]=n=>c(m(e)))},{default:r(()=>u[3]||(u[3]=[S("Submit")])),_:1})]),_:1})]),_:1},8,["rules","model"])])}}}),mo=U(_o,[["__scopeId","data-v-a6fb7e0c"]]),po=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));export{vo as c,bo as g};
//# sourceMappingURL=index-CU0ZyX1F.js.map
