import{d as x,r as se,o as g,c as C,a as Ee,s as Pe,b as Y,e as we,f as Ve,N as ue,g as xe,E as Le,h as S,i as b,j as Ce,k as R,l as V,u as J,m as e,n as v,t as O,p,w as l,q as I,v as ie,x as Te,F as j,y as ce,z as A,A as Oe,B as $e,C as Re,D as je,G as Ie,H as Ne,I as Ue,J as ze,K as Ae,L as Me,M as D,O as B,P as De,Q as de,R as F,S as W,T as G,U as ee,V as te,W as Be,X as _e,Y as me,Z as pe,_ as He,$ as qe,a0 as Fe,a1 as Ge,a2 as Je,a3 as fe,a4 as We,a5 as Ze,a6 as Ke,a7 as Qe,a8 as Xe,a9 as Ye,aa as et,ab as tt,ac as ot,ad as nt,ae as lt,af as rt,ag as at,ah as st,ai as ut}from"./vendor-5VQcEIHc.js";import"./index-CWmt2YIb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))_(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&_(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function _(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();const it=x({__name:"App",setup(o){return(t,n)=>{const _=se("RouterView");return g(),C(_)}}}),ct="modulepreload",dt=function(o,t){return new URL(o,t).href},le={},T=function(t,n,_){let a=Promise.resolve();if(n&&n.length>0){const c=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),d=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));a=Promise.allSettled(n.map(s=>{if(s=dt(s,_),s in le)return;le[s]=!0;const y=s.endsWith(".css"),k=y?'[rel="stylesheet"]':"";if(!!_)for(let h=c.length-1;h>=0;h--){const P=c[h];if(P.href===s&&(!y||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${k}`))return;const r=document.createElement("link");if(r.rel=y?"stylesheet":ct,y||(r.as="script"),r.crossOrigin="",r.href=s,d&&r.setAttribute("nonce",d),document.head.appendChild(r),y)return new Promise((h,P)=>{r.addEventListener("load",h),r.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return a.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},_t={path:"/",name:"Layout",redirect:"/",component:()=>T(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url),meta:{role:["common","admin"],parentRouter:"Home"},children:[{path:"/",name:"HomePage",component:()=>T(()=>Promise.resolve().then(()=>Ft),void 0,import.meta.url),meta:{isShow:!0,title:"默认首页",parentRouter:"Layout"}},{path:"/user",name:"UserPage",component:()=>T(()=>Promise.resolve().then(()=>Qt),void 0,import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"}},{path:"/role",name:"RolePage",component:()=>T(()=>Promise.resolve().then(()=>eo),void 0,import.meta.url),meta:{title:"角色模块",isShow:!0,parentRouter:"Layout"}},{path:"/auth",name:"AuthPage",component:()=>T(()=>Promise.resolve().then(()=>no),void 0,import.meta.url),meta:{title:"权限模块",isShow:!0,parentRouter:"Layout"}},{path:"/about",name:"AboutPage",component:()=>T(()=>Promise.resolve().then(()=>io),void 0,import.meta.url),meta:{title:"关于模块",isShow:!0,parentRouter:"Layout"}},{path:"/project",name:"projectPage",component:()=>T(()=>Promise.resolve().then(()=>fo),void 0,import.meta.url),meta:{isShow:!0,title:"项目模块",parentRouter:"Layout"}},{path:"/p",name:"ParentPage",meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{isShow:!0,title:"子菜单1",parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{isShow:!0,title:"子菜单2",parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{isShow:!0,title:"子菜单3",parentRouter:"ParentPage"}}]},{path:"/errorView",name:"ErrorViewPage",component:()=>T(()=>Promise.resolve().then(()=>vo),void 0,import.meta.url),meta:{isShow:!0,title:"生产错误"}},{path:"/errorList",name:"ErrorListPage",component:()=>T(()=>Promise.resolve().then(()=>Vo),void 0,import.meta.url),meta:{isShow:!0,title:"错误列表"}},{path:"/recordScreen",name:"RecordScreenPage",component:()=>T(()=>Promise.resolve().then(()=>Co),void 0,import.meta.url),meta:{isShow:!0,title:"rrweb录屏"}},{path:"/playScreen",name:"PlayScreenPage",component:()=>T(()=>Promise.resolve().then(()=>$o),void 0,import.meta.url),meta:{isShow:!0,title:"播放录屏"}}]},mt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),pt={path:"/login",name:"login",component:()=>T(()=>Promise.resolve().then(()=>zo),void 0,import.meta.url),meta:{},children:[]},ft=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"}));var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}const Z=Ee();Z.use(Pe);const gt=Y("setting",{state:()=>({title:[],isCollapse:!1,isTagsView:!0,isBreadcrumb:!0,isLogo:!0,isFullScreen:!1}),actions:{setTitle(o){this.title=o},setCollapse(){this.isCollapse=!this.isCollapse},setTagsView(){this.isTagsView=!this.isTagsView},setBreadcrumb(){this.isBreadcrumb=!this.isBreadcrumb}},persist:{key:"setting",storage:sessionStorage}});function ge(){return gt(Z)}const re=Object.assign({"./modules/home.ts":mt,"./modules/login.ts":ft}),ve=[];Object.keys(re).forEach(o=>ve.push(re[o].default));const oe=we({history:Ve(),routes:ve});ge();oe.beforeEach((o,t,n)=>{ue.start(),n()});oe.afterEach(()=>{ue.done()});const K=xe(it);K.use(oe);K.use(Z);K.config.errorHandler=(o,t,n)=>{const a={stack_frames:Le.parse(o),message:o.message,stack:o.stack,error_name:o.name};console.error(`触发一个${o.name}错误`),localStorage.setItem("jsErrorList",JSON.stringify(a))};K.mount("#app");const vt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function ht(o,t){return g(),S("svg",vt,t[0]||(t[0]=[b("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1)]))}const yt={name:"ep-close",render:ht},bt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function St(o,t){return g(),S("svg",bt,t[0]||(t[0]=[b("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1)]))}const kt={name:"ep-setting",render:St},Et={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Pt(o,t){return g(),S("svg",Et,t[0]||(t[0]=[b("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1)]))}const wt={name:"ep-user",render:Pt},ae=o=>{let t="";switch(o){case 400:t="请求错误(400)";break;case 403:t="拒绝访问(403)";break;case 401:t="未授权(401)";break;case 500:t="服务器错误(500)";break;case 503:t="服务不可用(503)";break;default:t=`连接出错(${o})!`}return t},Q=Ce.create({baseURL:"/api",timeout:15e3});Q.interceptors.request.use(o=>o,o=>Promise.reject(o));Q.interceptors.response.use(o=>(o.status===200||R.error(ae(o.status)),o),o=>{const{response:t}=o;return t?(R.error(ae(t.status)),Promise.reject(t.data)):(R.error("网络连接异常，请稍后再试！"),Promise.reject(o))});const he=o=>{const t=o;return new Promise((n,_)=>{Q.request(t).then(a=>{const u=a.data;u.code!=0?(R({message:u.message,type:"error"}),_(u.message)):(R({message:u.message,type:"success"}),n(u.data))})})};function ne(o,t,n){return he({...o,url:t,method:"GET",params:n})}function ye(o,t,n){return he({...o,url:t,method:"POST",data:n})}const Vt=async o=>ye({},"/login",o),xt=async o=>ye({},"/getUserInfo",o),Lt=async o=>Q({url:"/getAuthList",method:"get",data:o}),be=Y("userInfo",{state:()=>({username:"Topskys",accessToken:"",roles:["admin"]}),getters:{},actions:{storeUserLogin(o){return Vt(o).then(t=>{const{roles:n=[],username:_,accessToken:a}=t;return this.roles=n,this.username=_,this.accessToken=a,t})},storeRefreshUserInfo(){this.username=="Topskys"&&this.accessToken!=""&&xt({accessToken:this.accessToken}).then(o=>(this.roles=o.roles,this.username=o.username,this.accessToken=o.accessToken,o)).catch(()=>{this.accessToken=" "})}},persist:{key:"userInfo",storage:sessionStorage}});function Ct(){return be(Z)}const Tt={class:"header"},Ot={class:"flex-center m05 color-dark-black"},$t={class:"setting-header"},Rt={class:"logout"},jt=x({__name:"Header",setup(o){let t=V(!1);const n=J(),{username:_}=be(),a=()=>{t.value=!t.value},u=()=>{t.value=!1},c=()=>{sessionStorage.removeItem("userInfo"),n.push("/login")};return(m,d)=>{const s=wt,y=kt,k=yt,i=I,r=Te;return g(),S(j,null,[b("div",Tt,[d[1]||(d[1]=b("div",{class:"flex-center"},"logo",-1)),d[2]||(d[2]=b("div",{class:"flex-grow"},null,-1)),b("div",Ot,[e(s),v(" "+O(p(_)),1)]),b("div",{class:"flex-center m05 color-dark-black setting",onClick:a},[e(y)])]),e(r,{modelValue:p(t),"onUpdate:modelValue":d[0]||(d[0]=h=>ie(t)?t.value=h:t=h),title:"设置",size:"30%",direction:"rtl","width-header":!1,"show-close":!1,"append-to-body":""},{default:l(()=>[b("div",$t,[d[3]||(d[3]=b("h2",null,"项目配置",-1)),e(k,{onClick:u})]),b("div",Rt,[e(i,{type:"primary",onClick:c},{default:l(()=>d[4]||(d[4]=[v("退出")])),_:1})])]),_:1},8,["modelValue"])],64)}}}),z=(o,t)=>{const n=o.__vccOpts||o;for(const[_,a]of t)n[_]=a;return n},It=z(jt,[["__scopeId","data-v-7d047d29"]]),Nt=x({__name:"Aside",setup(o){var c;const t=ce(),_=(c=J().options.routes[0].children)==null?void 0:c.filter(m=>{var d;return(d=m.meta)==null?void 0:d.isShow}),a=V(!1),u=t.path;return(m,d)=>{const s=Oe,y=$e,k=Re;return g(),C(k,{"default-active":p(u),class:"el-menu-vertical",collapse:a.value,router:""},{default:l(()=>[(g(!0),S(j,null,A(p(_),i=>(g(),S(j,{key:i.path},[i.children?(g(),C(y,{key:1,index:i.path},{title:l(()=>{var r;return[b("span",null,O((r=i.meta)==null?void 0:r.title),1)]}),default:l(()=>[(g(!0),S(j,null,A(i.children,r=>(g(),C(s,{key:r.path,index:r.path},{default:l(()=>{var h;return[b("span",null,O((h=r.meta)==null?void 0:h.title),1)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(g(),C(s,{key:0,index:i.path},{default:l(()=>{var r;return[v(O((r=i.meta)==null?void 0:r.title),1)]}),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])}}}),Ut=x({__name:"Breadcrumb",setup(o){const t=ge();return(n,_)=>{const a=je,u=Ne;return g(),C(u,{"separator-icon":p(Ie)},{default:l(()=>[(g(!0),S(j,null,A(p(t).title,c=>(g(),C(a,{key:c,to:{name:c}},{default:l(()=>[v(O(c),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])}}}),zt=z(Ut,[["__scopeId","data-v-b9640813"]]),At=x({__name:"index",setup(o){return(t,n)=>{const _=Ue,a=Ae,u=se("router-view"),c=Me,m=ze;return g(),C(m,null,{default:l(()=>[e(_,null,{default:l(()=>[e(It)]),_:1}),e(m,{class:"main-container"},{default:l(()=>[e(a,null,{default:l(()=>[e(Nt)]),_:1}),e(c,null,{default:l(()=>[e(zt),e(u)]),_:1})]),_:1})]),_:1})}}}),Mt=z(At,[["__scopeId","data-v-b3d6f927"]]),Dt=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),Bt=o=>ne({},"/projects",o),Ht={class:"home"},qt=x({__name:"index",setup(o){let t=V([]),n=D({currentPage:1,pageSize:10,dataCount:0,title:"",introduce:""});const _=()=>{Bt().then(d=>{t.value=d||[],n.dataCount=d.length})};B(()=>{_()});let a=De(()=>t.value.slice((n.currentPage-1)*n.pageSize,n.currentPage*n.pageSize));const u=d=>{n.currentPage=d},c=d=>{n.pageSize=d},m=()=>{let d=t.value;n.title&&(d=t.value.filter(s=>s.title.indexOf(n.title)>-1)),n.introduce&&(d=t.value.filter(s=>s.introduce.indexOf(n.introduce)>-1)),t.value=d,n.currentPage=1,n.dataCount=d.length};return de([()=>n.title,()=>n.introduce],()=>{_()}),(d,s)=>{const y=W,k=F,i=I,r=G,h=ee,P=te,w=Be;return g(),S("div",Ht,[e(r,{inline:"",model:p(n),class:"search-form"},{default:l(()=>[e(k,{label:"项目名称"},{default:l(()=>[e(y,{modelValue:p(n).title,"onUpdate:modelValue":s[0]||(s[0]=L=>p(n).title=L),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),e(k,{label:"项目详情"},{default:l(()=>[e(y,{modelValue:p(n).introduce,"onUpdate:modelValue":s[1]||(s[1]=L=>p(n).introduce=L),placeholder:"请输入项目详情"},null,8,["modelValue"])]),_:1}),e(k,null,{default:l(()=>[e(i,{type:"primary",onClick:m},{default:l(()=>s[4]||(s[4]=[v("查询")])),_:1})]),_:1})]),_:1},8,["model"]),e(P,{data:p(a),border:"",style:{width:"100%"}},{default:l(()=>[e(h,{prop:"id",label:"编号",width:"180"}),e(h,{prop:"title",label:"标题",width:"180"}),e(h,{prop:"introduce",label:"描述"})]),_:1},8,["data"]),e(w,{"current-page":p(n).currentPage,"onUpdate:currentPage":s[2]||(s[2]=L=>p(n).currentPage=L),"page-size":p(n).pageSize,"onUpdate:pageSize":s[3]||(s[3]=L=>p(n).pageSize=L),background:"","page-sizes":[5,10,15,20,25,30],size:"default",layout:"total,prev, pager, next,sizes",total:p(n).dataCount,onSizeChange:c,onCurrentChange:u},null,8,["current-page","page-size","total"])])}}}),Ft=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"})),Se=async o=>ne({},"/getRoleList",o),Gt=async o=>ne({},"/getUserList",o),Jt={class:"container"},Wt={class:"dialog-footer"},Zt=x({__name:"index",setup(o){const t=V([]),n=D({nickName:"",role:0}),_=V([]),a=V(!1);let u=D({id:0,nickName:"",role:[],userName:""});const c=i=>{Object.assign(u,{...i,role:i.role.map(r=>r.role)}),a.value=!0},m=()=>{a.value=!1;let i=t.value.find(r=>r.id===u.id);i.nickName=u.nickName,i.role=[],_.value.forEach(r=>{u.role.find(h=>h===r.roleId)&&i.role.push({role:r.roleId,roleName:r.roleName})})},d=i=>{console.log(i)},s=()=>{Gt().then(i=>{t.value=i}).catch(()=>{})},y=()=>{Se().then(i=>{_.value=i}).catch(()=>{})};B(()=>{s(),y()});const k=()=>{let i=[];n.nickName||n.role?(n.nickName&&(i=t.value.filter(r=>r.nickName.indexOf(n.nickName)!==-1)),n.role&&(i=n.nickName?i:t.value,i=i.filter(r=>r.role.find(h=>h.role===n.role)))):i=t.value,t.value=i};return de([()=>n.nickName,()=>n.role],(i,r)=>{(n.nickName===""||n.role===0)&&k()}),(i,r)=>{const h=W,P=F,w=me,L=_e,$=I,N=G,U=ee,M=te,H=pe;return g(),S("div",Jt,[e(N,{inline:"",model:p(n),class:"search-form"},{default:l(()=>[e(P,{label:"姓名",prop:"nickName"},{default:l(()=>[e(h,{modelValue:p(n).nickName,"onUpdate:modelValue":r[0]||(r[0]=f=>p(n).nickName=f),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),e(P,{label:"角色",prop:"role"},{default:l(()=>[e(L,{modelValue:p(n).role,"onUpdate:modelValue":r[1]||(r[1]=f=>p(n).role=f),placeholder:"请选择角色",multiple:"",class:"w192"},{default:l(()=>[(g(),C(w,{key:0,label:"全部",value:0})),(g(!0),S(j,null,A(p(_),f=>(g(),C(w,{key:f.roleId,label:f.roleName,value:f.roleId},{default:l(()=>[v(O(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(P,null,{default:l(()=>[e($,{type:"primary",onClick:k},{default:l(()=>r[6]||(r[6]=[v("查询")])),_:1})]),_:1})]),_:1},8,["model"]),e(M,{data:p(t),border:"",style:{width:"100%"}},{default:l(()=>[e(U,{prop:"id",label:"ID",width:"180"}),e(U,{prop:"nickName",label:"姓名"}),e(U,{prop:"role",label:"角色"},{default:l(f=>[(g(!0),S(j,null,A(f.row.role,E=>(g(),C($,{key:E.role,link:"",type:"primary",size:"small"},{default:l(()=>[v(O(E.roleName),1)]),_:2},1024))),128))]),_:1}),e(U,{label:"操作"},{default:l(f=>[e($,{type:"primary",size:"small",link:"",onClick:E=>c(f.row)},{default:l(()=>r[7]||(r[7]=[v("编辑")])),_:2},1032,["onClick"]),e($,{type:"danger",size:"small",link:"",onClick:E=>d(f.row)},{default:l(()=>r[8]||(r[8]=[v("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(H,{modelValue:p(a),"onUpdate:modelValue":r[5]||(r[5]=f=>ie(a)?a.value=f:null),title:"编辑用户信息"},{footer:l(()=>[b("span",Wt,[e($,{onClick:r[4]||(r[4]=f=>a.value=!1)},{default:l(()=>r[9]||(r[9]=[v("取消")])),_:1}),e($,{type:"primary",onClick:m},{default:l(()=>r[10]||(r[10]=[v("确定")])),_:1})])]),default:l(()=>[e(N,{model:p(u),size:"large"},{default:l(()=>[e(P,{label:"用户昵称"},{default:l(()=>[e(h,{modelValue:p(u).nickName,"onUpdate:modelValue":r[2]||(r[2]=f=>p(u).nickName=f),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(P,{label:"用户角色"},{default:l(()=>[e(L,{modelValue:p(u).role,"onUpdate:modelValue":r[3]||(r[3]=f=>p(u).role=f),placeholder:"请选择角色",multiple:""},{default:l(()=>[(g(!0),S(j,null,A(p(_),f=>(g(),C(w,{key:f.roleId,label:f.roleName,value:f.roleId},{default:l(()=>[v(O(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Kt=z(Zt,[["__scopeId","data-v-e9ab6625"]]),Qt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"})),Xt={class:"container"},Yt=x({__name:"index",setup(o){let t=V([]);const n=J(),_=()=>{Se().then(c=>{t.value=c})};B(()=>{_()});const a=()=>{He.prompt("请输入角色名称!","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:c,action:m})=>{c&&(t.value.push({role:t.value.length+1,roleName:c,authority:[]}),R({type:"success",message:`${c}添加成功`}))}).catch(c=>{R({type:"info",message:"点击了取消按钮"})})},u=c=>{n.push({path:"auth",query:{id:c.role,auth:c.authority}})};return(c,m)=>{const d=I,s=F,y=G,k=ee,i=te;return g(),S("div",Xt,[e(y,null,{default:l(()=>[e(s,null,{default:l(()=>[e(d,{type:"primary",onClick:a},{default:l(()=>m[0]||(m[0]=[v("新增角色")])),_:1})]),_:1})]),_:1}),e(i,{data:p(t),border:"",style:{width:"100%"}},{default:l(()=>[e(k,{prop:"roleId",label:"ID",width:"180px"}),e(k,{prop:"roleName",label:"角色名称",width:"180px"}),e(k,{label:"操作"},{default:l(r=>[e(d,{type:"primary",size:"small",link:"",onClick:h=>u(r.row)},{default:l(()=>m[1]||(m[1]=[v("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}}),eo=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),to={class:"container"},oo=x({__name:"index",setup(o){const t=ce(),{query:n}=t;let _=V([]),a=V(null),u=V([]);n.auth&&(u.value=n.auth);const c=()=>{Lt().then(d=>{_.value=d.data.data})};B(()=>{c()});const m=()=>{a.value.getCheckedNodes()};return(d,s)=>{const y=qe,k=I;return g(),S("div",to,[e(y,{ref_key:"treeRef",ref:a,data:p(_),props:{children:"roleList",label:"name"},"show-checkbox":"","node-key":"roleId","default-expand-all":"","highlight-current":"","check-strictly":!0,"default-checked-keys":p(u)},null,8,["data","default-checked-keys"]),e(k,{type:"primary",onClick:m},{default:l(()=>s[0]||(s[0]=[v("修改权限")])),_:1})])}}}),no=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),lo={class:"custom-tag"},ro=x({__name:"Tag",props:{text:{type:String,default:null,require:!1},theme:{type:String,default:null,require:!1}},setup(o){const t=o,n=V(),_=()=>{n.value.innerHTML=t.text},a=()=>{n.value.style.backgroundColor=t.theme};return B(()=>{_(),a()}),(u,c)=>(g(),S("div",lo,[b("span",Fe(t,{ref_key:"tagRef",ref:n,class:"tag"}),null,16)]))}}),ao=z(ro,[["__scopeId","data-v-57ad97aa"]]),so={class:"container"},uo=x({__name:"index",setup(o){return(t,n)=>{const _=ao;return g(),S("div",so,[e(_,{text:"CustomTag",theme:"blue"}),e(_,{text:"测试自定义组件",theme:"blue"})])}}}),io=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),co={},_o={class:"container"};function mo(o,t){return g(),S("div",_o,"user")}const po=z(co,[["render",mo]]),fo=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),go=x({__name:"ErrorView",setup(o){const t=()=>{throw new TypeError("This is a type error")},n=()=>{throw new ReferenceError("This is a reference error")},_=()=>{throw new SyntaxError("This is a syntax error")};return(a,u)=>{const c=I;return g(),S("div",null,[u[4]||(u[4]=b("h1",null,"Throw Error",-1)),e(c,{onClick:u[0]||(u[0]=m=>t())},{default:l(()=>u[1]||(u[1]=[v("触发TypeError")])),_:1}),e(c,{onClick:n},{default:l(()=>u[2]||(u[2]=[v("触发ReferenceError")])),_:1}),e(c,{onClick:_},{default:l(()=>u[3]||(u[3]=[v("触发SyntaxError")])),_:1})])}}}),vo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),ho={name:"PreView",props:{origin:{type:Object,default(){return{}}}},methods:{preLine(){var m,d;const o=this.origin.line,t=(d=(m=this.origin)==null?void 0:m.source)==null?void 0:d.split(`
`),n=t.length-1,_=o-3>=0?o-3:0,a=_+5>=n?n:_+5;let u=[];for(var c=_;c<=a;c++){const s=c+1+".    "+this.encodeHTML(t[c]);u.push(`<div class='code-line ${c+1==o?"heightlight":""}'>${s}</div>`)}return u.join("")},encodeHTML(o){return!o||o.length==0?"":o.replace(/&/g,"&#38;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")}}},yo={class:"pre-code"},bo={class:"error-detail"},So=["innerHTML"];function ko(o,t,n,_,a,u){return g(),S("div",yo,[b("div",bo,[b("pre",{class:"error-code",innerHTML:u.preLine()},null,8,So)])])}const Eo=z(ho,[["render",ko]]),Po={key:0},wo=x({__name:"ErrorList",setup(o){const t=V([]),n=V(!1),_=V("1"),a=V(!1),u=V("local");let c={line:0,column:0,index:0};const m=()=>{try{const i=localStorage.getItem("jsErrorList");if(!i)return;t.value=JSON.parse(i),n.value=!0}catch(i){console.log("获取错误列表失败",i)}};B(()=>{m()});const d=i=>{u.value=i},s=(i,r)=>{a.value=!0,c={line:i.lineNumber,column:i.columnNumber,index:r}},y=async i=>{if(i.name.substring(i.name.lastIndexOf(".")+1)!=="map"){R({message:"请上传正确的sourcemap文件",type:"error"});return}const r=new FileReader;return r.readAsText(i),r.onload=async function(h){var w;const P=await k((w=h==null?void 0:h.target)==null?void 0:w.result,c.line,c.column);t.value.stack_frames[c.index].originalSource=P,a.value=!1},!1},k=async(i,r,h)=>{try{const P=await new Ye.SourceMapConsumer(JSON.parse(i)),w=P.originalPositionFor({line:r,column:h});return{source:P.sourceContentFor(w.source),line:w.line,column:w.column}}catch{R.error("sourcemap解析失败")}};return(i,r)=>{const h=fe,P=I,w=Je,L=Ge,$=We,N=Qe,U=Ke,M=Ze,H=pe;return n.value?(g(),S("div",Po,[b("pre",null,"      "+O(t.value.stack)+`
    `,1),e($,{modelValue:_.value,"onUpdate:modelValue":r[0]||(r[0]=f=>_.value=f),onChange:d},{default:l(()=>[(g(!0),S(j,null,A(t.value.stack_frames,(f,E)=>(g(),C(L,{key:E,title:f.source,name:E},{default:l(()=>[e(w,{gutter:20},{default:l(()=>[e(h,{span:20},{default:l(()=>[v(O(f.fileName),1)]),_:2},1024),e(h,{span:4},{default:l(()=>[e(P,{type:"primary",size:"small",onClick:Ao=>s(f,E)},{default:l(()=>r[3]||(r[3]=[v("映射源码")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),e(w,{gutter:20},{default:l(()=>[f.originalSource?(g(),C(Eo,{key:0,origin:f.originalSource},null,8,["origin"])):(g(),S(j,{key:1},[v(O(f.functionName),1)],64))]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),e(H,{modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=f=>a.value=f),title:"SourceMap源码映射",width:"500"},{default:l(()=>[e(M,{modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=f=>u.value=f)},{default:l(()=>[e(U,{label:"本地上传",name:"local"},{default:l(()=>[e(N,{drag:"","before-upload":y},{default:l(()=>r[4]||(r[4]=[b("i",{class:"el-icon-upload"},null,-1),b("div",null,[v("将文件拖拽到此处，或者"),b("em",null,"点击上传")],-1)])),_:1})]),_:1}),e(U,{label:"远程加载",name:"remote"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])):Xe("",!0)}}}),Vo=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),ke=Y("eventStore",{state:()=>({events:[]}),getters:{},actions:{setEvents(o){this.events=o},getEvents(){return this.events}}}),xo={id:"record"},Lo=x({__name:"RecordScreen",setup(o){const t=ke();let n=[],_;const a=D({name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),u=()=>{console.log("submit!")},c=()=>{_=et({emit(d){console.log("event",JSON.stringify(d)),n.push(d)},recordCanvas:!0})},m=()=>{_&&(_(),t.setEvents(n))};return(d,s)=>{const y=I,k=W,i=F,r=me,h=_e,P=tt,w=fe,L=ot,$=nt,N=rt,U=lt,M=st,H=at,f=G;return g(),S("div",xo,[b("div",null,[e(y,{type:"primary",onClick:c},{default:l(()=>s[8]||(s[8]=[v("开始录制")])),_:1}),e(y,{type:"primary",onClick:m},{default:l(()=>s[9]||(s[9]=[v("结束录制")])),_:1})]),e(f,{model:a,"label-width":"auto",style:{"max-width":"600px"}},{default:l(()=>[e(i,{label:"Activity name"},{default:l(()=>[e(k,{modelValue:a.name,"onUpdate:modelValue":s[0]||(s[0]=E=>a.name=E)},null,8,["modelValue"])]),_:1}),e(i,{label:"Activity zone"},{default:l(()=>[e(h,{modelValue:a.region,"onUpdate:modelValue":s[1]||(s[1]=E=>a.region=E),placeholder:"please select your zone"},{default:l(()=>[e(r,{label:"Zone one",value:"shanghai"}),e(r,{label:"Zone two",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Activity time"},{default:l(()=>[e(w,{span:11},{default:l(()=>[e(P,{modelValue:a.date1,"onUpdate:modelValue":s[2]||(s[2]=E=>a.date1=E),type:"date",placeholder:"Pick a date",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(w,{span:2,class:"text-center"},{default:l(()=>s[10]||(s[10]=[b("span",{class:"text-gray-500"},"-",-1)])),_:1}),e(w,{span:11},{default:l(()=>[e(L,{modelValue:a.date2,"onUpdate:modelValue":s[3]||(s[3]=E=>a.date2=E),placeholder:"Pick a time",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{label:"Instant delivery"},{default:l(()=>[e($,{modelValue:a.delivery,"onUpdate:modelValue":s[4]||(s[4]=E=>a.delivery=E)},null,8,["modelValue"])]),_:1}),e(i,{label:"Activity type"},{default:l(()=>[e(U,{modelValue:a.type,"onUpdate:modelValue":s[5]||(s[5]=E=>a.type=E)},{default:l(()=>[e(N,{value:"Online activities",name:"type"},{default:l(()=>s[11]||(s[11]=[v(" Online activities ")])),_:1}),e(N,{value:"Promotion activities",name:"type"},{default:l(()=>s[12]||(s[12]=[v(" Promotion activities ")])),_:1}),e(N,{value:"Offline activities",name:"type"},{default:l(()=>s[13]||(s[13]=[v(" Offline activities ")])),_:1}),e(N,{value:"Simple brand exposure",name:"type"},{default:l(()=>s[14]||(s[14]=[v(" Simple brand exposure ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Resources"},{default:l(()=>[e(H,{modelValue:a.resource,"onUpdate:modelValue":s[6]||(s[6]=E=>a.resource=E)},{default:l(()=>[e(M,{value:"Sponsor"},{default:l(()=>s[15]||(s[15]=[v("Sponsor")])),_:1}),e(M,{value:"Venue"},{default:l(()=>s[16]||(s[16]=[v("Venue")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Activity form"},{default:l(()=>[e(k,{modelValue:a.desc,"onUpdate:modelValue":s[7]||(s[7]=E=>a.desc=E),type:"textarea"},null,8,["modelValue"])]),_:1}),e(i,null,{default:l(()=>[e(y,{type:"primary",onClick:u},{default:l(()=>s[17]||(s[17]=[v("Create")])),_:1}),e(y,null,{default:l(()=>s[18]||(s[18]=[v("Cancel")])),_:1})]),_:1})]),_:1},8,["model"])])}}}),Co=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"})),To={class:"play"},Oo=x({__name:"PlayScreen",setup(o){let n=ke().getEvents();const _=()=>{n.length!==0&&new ut({target:document.querySelector("#doPlay"),props:{events:n}})};return(a,u)=>{const c=I;return g(),S("div",To,[u[1]||(u[1]=b("div",{class:"text-red font-800 h-30 text-center bg-blue-600"},"dddd",-1)),e(c,{type:"primary",onClick:_},{default:l(()=>u[0]||(u[0]=[v("回放")])),_:1}),u[2]||(u[2]=b("hr",null,null,-1)),u[3]||(u[3]=b("div",{id:"doPlay"},null,-1))])}}}),$o=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"}));let X="",q=null;function Ro(o){const{type:t=""}=o;q&&t===X||(X=t,q&&q.close(),q=R({...o,onClose:()=>{X="",q=null}}))}function jo(){return V()}const Io={class:"login-box"},No=x({__name:"index",setup(o){const t=jo(),{storeUserLogin:n}=Ct(),_=J(),a=D({username:"admin",password:"admin"}),u=D({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=m=>{m&&m.validate(d=>{d?n(a).then(()=>{_.push("/")}):Ro({message:"用户名或密码错误",type:"error"})})};return(m,d)=>{const s=W,y=F,k=I,i=G;return g(),S("div",Io,[e(i,{ref_key:"formRef",ref:t,rules:p(u),model:p(a),size:"large",class:"form"},{default:l(()=>[d[4]||(d[4]=b("span",{class:"form-title"},"企业中台登录",-1)),e(y,{prop:"username"},{default:l(()=>[e(s,{modelValue:p(a).username,"onUpdate:modelValue":d[0]||(d[0]=r=>p(a).username=r),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(y,{prop:"password"},{default:l(()=>[e(s,{modelValue:p(a).password,"onUpdate:modelValue":d[1]||(d[1]=r=>p(a).password=r),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(y,null,{default:l(()=>[e(k,{type:"primary",class:"submit-button",onClick:d[2]||(d[2]=r=>c(p(t)))},{default:l(()=>d[3]||(d[3]=[v("Submit")])),_:1})]),_:1})]),_:1},8,["rules","model"])])}}}),Uo=z(No,[["__scopeId","data-v-a6fb7e0c"]]),zo=Object.freeze(Object.defineProperty({__proto__:null,default:Uo},Symbol.toStringTag,{value:"Module"}));export{Bo as c,Ho as g};
//# sourceMappingURL=index-CWmt2YIb.js.map
