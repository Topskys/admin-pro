const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./errorView-xF6H1z4k.js","./vendor-Cp31AD3I.js","./vendor-BGJuwBob.css"])))=>i.map(i=>d[i]);
import{d as C,r as re,o as g,b as x,e as ve,s as ye,f as se,g as ke,h as Se,N as ue,u as Pe,i as we,j as Ee,k as Le,l as xe,m as Ce,n as Ve,p as $e,q as Te,t as Oe,v as Re,w as Ie,E as Ne,x as je,y as ze,c as v,a as P,z as Ue,A as O,B as w,C as q,D as l,F as S,G as V,H as m,I as a,J as z,K as ie,L as Ae,M as $,O as ce,P as j,Q as Me,R as Be,S as De,T as He,U as qe,V as Fe,W as Je,X as We,Y as Ge,Z as Ke,_ as B,$ as A,a0 as Qe,a1 as de,a2 as F,a3 as Y,a4 as J,a5 as Z,a6 as ee,a7 as Xe,a8 as Ye,a9 as Ze,aa as _e,ab as et,ac as tt,ad as ot,ae as nt,af as lt,ag as at,ah as rt,ai as st,aj as ut,ak as it,al as ct,am as dt}from"./vendor-Cp31AD3I.js";import"./index-_9y4tvdS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();const _t=C({__name:"App",setup(t){return(e,o)=>{const d=re("RouterView");return g(),x(d)}}}),mt="modulepreload",pt=function(t,e){return new URL(t,e).href},ne={},T=function(e,o,d){let r=Promise.resolve();if(o&&o.length>0){const c=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),u=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));r=Promise.allSettled(o.map(_=>{if(_=pt(_,d),_ in ne)return;ne[_]=!0;const b=_.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(!!d)for(let h=c.length-1;h>=0;h--){const k=c[h];if(k.href===_&&(!b||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${y}`))return;const n=document.createElement("link");if(n.rel=b?"stylesheet":mt,b||(n.as="script"),n.crossOrigin="",n.href=_,u&&n.setAttribute("nonce",u),document.head.appendChild(n),b)return new Promise((h,k)=>{n.addEventListener("load",h),n.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function i(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return r.then(c=>{for(const p of c||[])p.status==="rejected"&&i(p.reason);return e().catch(i)})},ft={path:"/",name:"Layout",redirect:"/",component:()=>T(()=>Promise.resolve().then(()=>Ft),void 0,import.meta.url),meta:{role:["common","admin"],parentRouter:"Home"},children:[{path:"/",name:"HomePage",component:()=>T(()=>Promise.resolve().then(()=>Kt),void 0,import.meta.url),meta:{isShow:!0,title:"默认首页",parentRouter:"Layout"}},{path:"/user",name:"UserPage",component:()=>T(()=>Promise.resolve().then(()=>to),void 0,import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"}},{path:"/role",name:"RolePage",component:()=>T(()=>Promise.resolve().then(()=>lo),void 0,import.meta.url),meta:{title:"角色模块",isShow:!0,parentRouter:"Layout"}},{path:"/auth",name:"AuthPage",component:()=>T(()=>Promise.resolve().then(()=>so),void 0,import.meta.url),meta:{title:"权限模块",isShow:!0,parentRouter:"Layout"}},{path:"/about",name:"AboutPage",component:()=>T(()=>Promise.resolve().then(()=>po),void 0,import.meta.url),meta:{title:"关于模块",isShow:!0,parentRouter:"Layout"}},{path:"/project",name:"projectPage",component:()=>T(()=>Promise.resolve().then(()=>vo),void 0,import.meta.url),meta:{isShow:!0,title:"项目模块",parentRouter:"Layout"}},{path:"/p",name:"ParentPage",meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{isShow:!0,title:"子菜单1",parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{isShow:!0,title:"子菜单2",parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{isShow:!0,title:"子菜单3",parentRouter:"ParentPage"}}]},{path:"/errorView",name:"ErrorViewPage",component:()=>T(()=>import("./errorView-xF6H1z4k.js"),__vite__mapDeps([0,1,2]),import.meta.url),meta:{isShow:!0,title:"生产错误"}},{path:"/errorList",name:"ErrorListPage",component:()=>T(()=>Promise.resolve().then(()=>So),void 0,import.meta.url),meta:{isShow:!0,title:"错误列表"}}]},gt=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"})),ht={path:"/login",name:"login",component:()=>T(()=>Promise.resolve().then(()=>Co),void 0,import.meta.url),meta:{},children:[]},bt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const W=ve();W.use(ye);const vt=se("setting",{state:()=>({title:[],isCollapse:!1,isTagsView:!0,isBreadcrumb:!0,isLogo:!0,isFullScreen:!1}),actions:{setTitle(t){this.title=t},setCollapse(){this.isCollapse=!this.isCollapse},setTagsView(){this.isTagsView=!this.isTagsView},setBreadcrumb(){this.isBreadcrumb=!this.isBreadcrumb}},persist:{key:"setting",storage:sessionStorage}});function me(){return vt(W)}const le=Object.assign({"./modules/home.ts":gt,"./modules/login.ts":bt}),pe=[];Object.keys(le).forEach(t=>pe.push(le[t].default));const te=ke({history:Se(),routes:pe});me();te.beforeEach((t,e,o)=>{ue.start(),o()});te.afterEach(()=>{ue.done()});Pe([we,Ee,Le,xe,Ce,Ve,$e,Te,Oe,Re,Ie]);const yt=t=>t.component("VChart",Ne),D=je(_t);D.use(te);D.use(W);yt(D);D.config.errorHandler=(t,e,o)=>{const r={stack_frames:ze.parse(t),message:t.message,stack:t.stack,error_name:t.name};console.error(`触发一个${t.name}错误`),localStorage.setItem("jsErrorList",JSON.stringify(r))};D.mount("#app");const kt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function St(t,e){return g(),v("svg",kt,e[0]||(e[0]=[P("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1)]))}const Pt={name:"ep-close",render:St},wt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Et(t,e){return g(),v("svg",wt,e[0]||(e[0]=[P("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1)]))}const Lt={name:"ep-setting",render:Et},xt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Ct(t,e){return g(),v("svg",xt,e[0]||(e[0]=[P("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1)]))}const Vt={name:"ep-user",render:Ct},ae=t=>{let e="";switch(t){case 400:e="请求错误(400)";break;case 403:e="拒绝访问(403)";break;case 401:e="未授权(401)";break;case 500:e="服务器错误(500)";break;case 503:e="服务不可用(503)";break;default:e=`连接出错(${t})!`}return e},G=Ue.create({baseURL:"/api",timeout:15e3});G.interceptors.request.use(t=>t,t=>Promise.reject(t));G.interceptors.response.use(t=>(t.status===200||O.error(ae(t.status)),t),t=>{const{response:e}=t;return e?(O.error(ae(e.status)),Promise.reject(e.data)):(O.error("网络连接异常，请稍后再试！"),Promise.reject(t))});const fe=t=>{const e=t;return new Promise((o,d)=>{G.request(e).then(r=>{const i=r.data;i.code!=0?(O({message:i.message,type:"error"}),d(i.message)):(O({message:i.message,type:"success"}),o(i.data))})})};function oe(t,e,o){return fe({...t,url:e,method:"GET",params:o})}function ge(t,e,o){return fe({...t,url:e,method:"POST",data:o})}const $t=async t=>ge({},"/login",t),Tt=async t=>ge({},"/getUserInfo",t),Ot=async t=>G({url:"/getAuthList",method:"get",data:t}),he=se("userInfo",{state:()=>({username:"Topskys",accessToken:"",roles:["admin"]}),getters:{},actions:{storeUserLogin(t){return $t(t).then(e=>{const{roles:o=[],username:d,accessToken:r}=e;return this.roles=o,this.username=d,this.accessToken=r,e})},storeRefreshUserInfo(){this.username=="Topskys"&&this.accessToken!=""&&Tt({accessToken:this.accessToken}).then(t=>(this.roles=t.roles,this.username=t.username,this.accessToken=t.accessToken,t)).catch(()=>{this.accessToken=" "})}},persist:{key:"userInfo",storage:sessionStorage}});function Rt(){return he(W)}const It={class:"header"},Nt={class:"flex-center m05 color-dark-black"},jt={class:"setting-header"},zt={class:"logout"},Ut=C({__name:"Header",setup(t){let e=w(!1);const o=q(),{username:d}=he(),r=()=>{e.value=!e.value},i=()=>{e.value=!1},c=()=>{sessionStorage.removeItem("userInfo"),o.push("/login")};return(p,u)=>{const _=Vt,b=Lt,y=Pt,s=z,n=Ae;return g(),v($,null,[P("div",It,[u[1]||(u[1]=P("div",{class:"flex-center"},"logo",-1)),u[2]||(u[2]=P("div",{class:"flex-grow"},null,-1)),P("div",Nt,[l(_),S(" "+V(m(d)),1)]),P("div",{class:"flex-center m05 color-dark-black setting",onClick:r},[l(b)])]),l(n,{modelValue:m(e),"onUpdate:modelValue":u[0]||(u[0]=h=>ie(e)?e.value=h:e=h),title:"设置",size:"30%",direction:"rtl","width-header":!1,"show-close":!1,"append-to-body":""},{default:a(()=>[P("div",jt,[u[3]||(u[3]=P("h2",null,"项目配置",-1)),l(y,{onClick:i})]),P("div",zt,[l(s,{type:"primary",onClick:c},{default:a(()=>u[4]||(u[4]=[S("退出")])),_:1})])]),_:1},8,["modelValue"])],64)}}}),U=(t,e)=>{const o=t.__vccOpts||t;for(const[d,r]of e)o[d]=r;return o},At=U(Ut,[["__scopeId","data-v-7d047d29"]]),Mt=C({__name:"Aside",setup(t){var c;const e=ce(),d=(c=q().options.routes[0].children)==null?void 0:c.filter(p=>{var u;return(u=p.meta)==null?void 0:u.isShow}),r=w(!1),i=e.path;return(p,u)=>{const _=Me,b=Be,y=De;return g(),x(y,{"default-active":m(i),class:"el-menu-vertical",collapse:r.value,router:""},{default:a(()=>[(g(!0),v($,null,j(m(d),s=>(g(),v($,{key:s.path},[s.children?(g(),x(b,{key:1,index:s.path},{title:a(()=>{var n;return[P("span",null,V((n=s.meta)==null?void 0:n.title),1)]}),default:a(()=>[(g(!0),v($,null,j(s.children,n=>(g(),x(_,{key:n.path,index:n.path},{default:a(()=>{var h;return[P("span",null,V((h=n.meta)==null?void 0:h.title),1)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(g(),x(_,{key:0,index:s.path},{default:a(()=>{var n;return[S(V((n=s.meta)==null?void 0:n.title),1)]}),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])}}}),Bt=C({__name:"Breadcrumb",setup(t){const e=me();return(o,d)=>{const r=He,i=Fe;return g(),x(i,{"separator-icon":m(qe)},{default:a(()=>[(g(!0),v($,null,j(m(e).title,c=>(g(),x(r,{key:c,to:{name:c}},{default:a(()=>[S(V(c),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])}}}),Dt=U(Bt,[["__scopeId","data-v-b9640813"]]),Ht=C({__name:"index",setup(t){return(e,o)=>{const d=Je,r=Ge,i=re("router-view"),c=Ke,p=We;return g(),x(p,null,{default:a(()=>[l(d,null,{default:a(()=>[l(At)]),_:1}),l(p,{class:"main-container"},{default:a(()=>[l(r,null,{default:a(()=>[l(Mt)]),_:1}),l(c,null,{default:a(()=>[l(Dt),l(i)]),_:1})]),_:1})]),_:1})}}}),qt=U(Ht,[["__scopeId","data-v-b3d6f927"]]),Ft=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"})),Jt=t=>oe({},"/projects",t),Wt={class:"home"},Gt=C({__name:"index",setup(t){let e=w([]),o=B({currentPage:1,pageSize:10,dataCount:0,title:"",introduce:""});const d=()=>{Jt().then(u=>{e.value=u||[],o.dataCount=u.length})};A(()=>{d()});let r=Qe(()=>e.value.slice((o.currentPage-1)*o.pageSize,o.currentPage*o.pageSize));const i=u=>{o.currentPage=u},c=u=>{o.pageSize=u},p=()=>{let u=e.value;o.title&&(u=e.value.filter(_=>_.title.indexOf(o.title)>-1)),o.introduce&&(u=e.value.filter(_=>_.introduce.indexOf(o.introduce)>-1)),e.value=u,o.currentPage=1,o.dataCount=u.length};return de([()=>o.title,()=>o.introduce],()=>{d()}),(u,_)=>{const b=Y,y=F,s=z,n=J,h=Z,k=ee,E=Xe;return g(),v("div",Wt,[l(n,{inline:"",model:m(o),class:"search-form"},{default:a(()=>[l(y,{label:"项目名称"},{default:a(()=>[l(b,{modelValue:m(o).title,"onUpdate:modelValue":_[0]||(_[0]=L=>m(o).title=L),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),l(y,{label:"项目详情"},{default:a(()=>[l(b,{modelValue:m(o).introduce,"onUpdate:modelValue":_[1]||(_[1]=L=>m(o).introduce=L),placeholder:"请输入项目详情"},null,8,["modelValue"])]),_:1}),l(y,null,{default:a(()=>[l(s,{type:"primary",onClick:p},{default:a(()=>_[4]||(_[4]=[S("查询")])),_:1})]),_:1})]),_:1},8,["model"]),l(k,{data:m(r),border:"",style:{width:"100%"}},{default:a(()=>[l(h,{prop:"id",label:"编号",width:"180"}),l(h,{prop:"title",label:"标题",width:"180"}),l(h,{prop:"introduce",label:"描述"})]),_:1},8,["data"]),l(E,{"current-page":m(o).currentPage,"onUpdate:currentPage":_[2]||(_[2]=L=>m(o).currentPage=L),"page-size":m(o).pageSize,"onUpdate:pageSize":_[3]||(_[3]=L=>m(o).pageSize=L),background:"","page-sizes":[5,10,15,20,25,30],size:"default",layout:"total,prev, pager, next,sizes",total:m(o).dataCount,onSizeChange:c,onCurrentChange:i},null,8,["current-page","page-size","total"])])}}}),Kt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),be=async t=>oe({},"/getRoleList",t),Qt=async t=>oe({},"/getUserList",t),Xt={class:"container"},Yt={class:"dialog-footer"},Zt=C({__name:"index",setup(t){const e=w([]),o=B({nickName:"",role:0}),d=w([]),r=w(!1);let i=B({id:0,nickName:"",role:[],userName:""});const c=s=>{Object.assign(i,{...s,role:s.role.map(n=>n.role)}),r.value=!0},p=()=>{r.value=!1;let s=e.value.find(n=>n.id===i.id);s.nickName=i.nickName,s.role=[],d.value.forEach(n=>{i.role.find(h=>h===n.roleId)&&s.role.push({role:n.roleId,roleName:n.roleName})})},u=s=>{console.log(s)},_=()=>{Qt().then(s=>{e.value=s}).catch(()=>{})},b=()=>{be().then(s=>{d.value=s}).catch(()=>{})};A(()=>{_(),b()});const y=()=>{let s=[];o.nickName||o.role?(o.nickName&&(s=e.value.filter(n=>n.nickName.indexOf(o.nickName)!==-1)),o.role&&(s=o.nickName?s:e.value,s=s.filter(n=>n.role.find(h=>h.role===o.role)))):s=e.value,e.value=s};return de([()=>o.nickName,()=>o.role],(s,n)=>{(o.nickName===""||o.role===0)&&y()}),(s,n)=>{const h=Y,k=F,E=Ze,L=Ye,R=z,H=J,N=Z,K=ee,Q=_e;return g(),v("div",Xt,[l(H,{inline:"",model:m(o),class:"search-form"},{default:a(()=>[l(k,{label:"姓名",prop:"nickName"},{default:a(()=>[l(h,{modelValue:m(o).nickName,"onUpdate:modelValue":n[0]||(n[0]=f=>m(o).nickName=f),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),l(k,{label:"角色",prop:"role"},{default:a(()=>[l(L,{modelValue:m(o).role,"onUpdate:modelValue":n[1]||(n[1]=f=>m(o).role=f),placeholder:"请选择角色",multiple:"",class:"w192"},{default:a(()=>[(g(),x(E,{key:0,label:"全部",value:0})),(g(!0),v($,null,j(m(d),f=>(g(),x(E,{key:f.roleId,label:f.roleName,value:f.roleId},{default:a(()=>[S(V(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(k,null,{default:a(()=>[l(R,{type:"primary",onClick:y},{default:a(()=>n[6]||(n[6]=[S("查询")])),_:1})]),_:1})]),_:1},8,["model"]),l(K,{data:m(e),border:"",style:{width:"100%"}},{default:a(()=>[l(N,{prop:"id",label:"ID",width:"180"}),l(N,{prop:"nickName",label:"姓名"}),l(N,{prop:"role",label:"角色"},{default:a(f=>[(g(!0),v($,null,j(f.row.role,I=>(g(),x(R,{key:I.role,link:"",type:"primary",size:"small"},{default:a(()=>[S(V(I.roleName),1)]),_:2},1024))),128))]),_:1}),l(N,{label:"操作"},{default:a(f=>[l(R,{type:"primary",size:"small",link:"",onClick:I=>c(f.row)},{default:a(()=>n[7]||(n[7]=[S("编辑")])),_:2},1032,["onClick"]),l(R,{type:"danger",size:"small",link:"",onClick:I=>u(f.row)},{default:a(()=>n[8]||(n[8]=[S("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(Q,{modelValue:m(r),"onUpdate:modelValue":n[5]||(n[5]=f=>ie(r)?r.value=f:null),title:"编辑用户信息"},{footer:a(()=>[P("span",Yt,[l(R,{onClick:n[4]||(n[4]=f=>r.value=!1)},{default:a(()=>n[9]||(n[9]=[S("取消")])),_:1}),l(R,{type:"primary",onClick:p},{default:a(()=>n[10]||(n[10]=[S("确定")])),_:1})])]),default:a(()=>[l(H,{model:m(i),size:"large"},{default:a(()=>[l(k,{label:"用户昵称"},{default:a(()=>[l(h,{modelValue:m(i).nickName,"onUpdate:modelValue":n[2]||(n[2]=f=>m(i).nickName=f),autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(k,{label:"用户角色"},{default:a(()=>[l(L,{modelValue:m(i).role,"onUpdate:modelValue":n[3]||(n[3]=f=>m(i).role=f),placeholder:"请选择角色",multiple:""},{default:a(()=>[(g(!0),v($,null,j(m(d),f=>(g(),x(E,{key:f.roleId,label:f.roleName,value:f.roleId},{default:a(()=>[S(V(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),eo=U(Zt,[["__scopeId","data-v-e9ab6625"]]),to=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),oo={class:"container"},no=C({__name:"index",setup(t){let e=w([]);const o=q(),d=()=>{be().then(c=>{e.value=c})};A(()=>{d()});const r=()=>{et.prompt("请输入角色名称!","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:c,action:p})=>{c&&(e.value.push({role:e.value.length+1,roleName:c,authority:[]}),O({type:"success",message:`${c}添加成功`}))}).catch(c=>{O({type:"info",message:"点击了取消按钮"})})},i=c=>{o.push({path:"auth",query:{id:c.role,auth:c.authority}})};return(c,p)=>{const u=z,_=F,b=J,y=Z,s=ee;return g(),v("div",oo,[l(b,null,{default:a(()=>[l(_,null,{default:a(()=>[l(u,{type:"primary",onClick:r},{default:a(()=>p[0]||(p[0]=[S("新增角色")])),_:1})]),_:1})]),_:1}),l(s,{data:m(e),border:"",style:{width:"100%"}},{default:a(()=>[l(y,{prop:"roleId",label:"ID",width:"180px"}),l(y,{prop:"roleName",label:"角色名称",width:"180px"}),l(y,{label:"操作"},{default:a(n=>[l(u,{type:"primary",size:"small",link:"",onClick:h=>i(n.row)},{default:a(()=>p[1]||(p[1]=[S("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}}),lo=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),ao={class:"container"},ro=C({__name:"index",setup(t){const e=ce(),{query:o}=e;let d=w([]),r=w(null),i=w([]);o.auth&&(i.value=o.auth);const c=()=>{Ot().then(u=>{d.value=u.data.data})};A(()=>{c()});const p=()=>{r.value.getCheckedNodes()};return(u,_)=>{const b=tt,y=z;return g(),v("div",ao,[l(b,{ref_key:"treeRef",ref:r,data:m(d),props:{children:"roleList",label:"name"},"show-checkbox":"","node-key":"roleId","default-expand-all":"","highlight-current":"","check-strictly":!0,"default-checked-keys":m(i)},null,8,["data","default-checked-keys"]),l(y,{type:"primary",onClick:p},{default:a(()=>_[0]||(_[0]=[S("修改权限")])),_:1})])}}}),so=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),uo={class:"custom-tag"},io=C({__name:"Tag",props:{text:{type:String,default:null,require:!1},theme:{type:String,default:null,require:!1}},setup(t){const e=t,o=w(),d=()=>{o.value.innerHTML=e.text},r=()=>{o.value.style.backgroundColor=e.theme};return A(()=>{d(),r()}),(i,c)=>(g(),v("div",uo,[P("span",ot(e,{ref_key:"tagRef",ref:o,class:"tag"}),null,16)]))}}),co=U(io,[["__scopeId","data-v-57ad97aa"]]),_o={class:"container"},mo=C({__name:"index",setup(t){return(e,o)=>{const d=co;return g(),v("div",_o,[l(d,{text:"CustomTag",theme:"blue"}),l(d,{text:"测试自定义组件",theme:"blue"})])}}}),po=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"})),fo={},go={class:"container"};function ho(t,e){return g(),v("div",go,"user")}const bo=U(fo,[["render",ho]]),vo=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"})),yo={key:0},ko=C({__name:"ErrorList",setup(t){const e=w([]),o=w(!1),d=w("1"),r=w(!1),i=w("local");let c={line:0,column:0,index:null};const p=()=>{try{const s=localStorage.getItem("jsErrorList");if(!s)return;e.value=JSON.parse(s),o.value=!0}catch(s){console.log("获取错误列表失败",s)}};A(()=>{p()});const u=s=>{},_=(s,n)=>{r.value=!0,c={line:s.lineNumber,column:s.columnNumber,index:n}},b=async s=>{if(s.name.substring(s.name.lastIndexOf(".")+1)!=="map"){O({message:"请上传正确的sourcemap文件",type:"error"});return}const n=new FileReader;n.readAsText(s),n.onload=async function(h){var E;const k=await y((E=h==null?void 0:h.target)==null?void 0:E.result,c.line,c.column);e.value.stack_frames[c.index].originalSource=k==null?void 0:k.source,r.value=!1}},y=async(s,n,h)=>{try{const k=await new dt.SourceMapConsumer(JSON.parse(s)),E=k.originalPositionFor({line:n,column:h}),L=k.sourceContentFor(E.source);return console.log("source",L),{source:L,line:E.line,column:E.column}}catch{O.error("sourcemap解析失败")}};return(s,n)=>{const h=at,k=z,E=lt,L=nt,R=rt,H=it,N=ut,K=st,Q=_e;return o.value?(g(),v("div",yo,[l(R,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=f=>d.value=f),onChange:u},{default:a(()=>[(g(!0),v($,null,j(e.value.stack_frames,(f,I)=>(g(),x(L,{key:I,title:f.source,name:I},{default:a(()=>[l(E,{gutter:20},{default:a(()=>[l(h,{span:20},{default:a(()=>[S(V(f.fileName),1)]),_:2},1024),l(h,{span:4},{default:a(()=>[l(k,{type:"primary",size:"small",onClick:Vo=>_(f,I)},{default:a(()=>n[3]||(n[3]=[S("映射源码")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),l(E,{gutter:20},{default:a(()=>[f.originalSource?(g(),v($,{key:0},[S(V(f.originalSource),1)],64)):(g(),v($,{key:1},[S(V(f.functionName),1)],64))]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),l(Q,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=f=>r.value=f),title:"SourceMap源码映射",width:"500"},{default:a(()=>[l(K,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=f=>i.value=f)},{default:a(()=>[l(N,{label:"本地上传",name:"local"},{default:a(()=>[l(H,{drag:"","before-upload":b},{default:a(()=>n[4]||(n[4]=[P("i",{class:"el-icon-upload"},null,-1),P("div",null,[S("将文件拖拽到此处，或者"),P("em",null,"点击上传")],-1)])),_:1})]),_:1}),l(N,{label:"远程加载",name:"remote"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])):ct("",!0)}}}),So=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"}));let X="",M=null;function Po(t){const{type:e=""}=t;M&&e===X||(X=e,M&&M.close(),M=O({...t,onClose:()=>{X="",M=null}}))}function wo(){return w()}const Eo={class:"login-box"},Lo=C({__name:"index",setup(t){const e=wo(),{storeUserLogin:o}=Rt(),d=q(),r=B({username:"admin",password:"admin"}),i=B({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=p=>{p&&p.validate(u=>{u?o(r).then(()=>{d.push("/")}):Po({message:"用户名或密码错误",type:"error"})})};return(p,u)=>{const _=Y,b=F,y=z,s=J;return g(),v("div",Eo,[l(s,{ref_key:"formRef",ref:e,rules:m(i),model:m(r),size:"large",class:"form"},{default:a(()=>[u[4]||(u[4]=P("span",{class:"form-title"},"企业中台登录",-1)),l(b,{prop:"username"},{default:a(()=>[l(_,{modelValue:m(r).username,"onUpdate:modelValue":u[0]||(u[0]=n=>m(r).username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),l(b,{prop:"password"},{default:a(()=>[l(_,{modelValue:m(r).password,"onUpdate:modelValue":u[1]||(u[1]=n=>m(r).password=n),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),l(b,null,{default:a(()=>[l(y,{type:"primary",class:"submit-button",onClick:u[2]||(u[2]=n=>c(m(e)))},{default:a(()=>u[3]||(u[3]=[S("Submit")])),_:1})]),_:1})]),_:1},8,["rules","model"])])}}}),xo=U(Lo,[["__scopeId","data-v-a6fb7e0c"]]),Co=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));export{Oo as c,Ro as g};
//# sourceMappingURL=index-_9y4tvdS.js.map
