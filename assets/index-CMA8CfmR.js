const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./errorView-CA1uQUJr.js","./vendor-Ck_BNr_C.js","./vendor-BGJuwBob.css"])))=>i.map(i=>d[i]);
import{d as C,r as ae,o as g,b as E,e as be,s as ye,f as se,g as ke,h as Se,N as ue,i as we,E as Pe,c as y,a as S,j as Le,k as $,l as P,u as H,m as r,n as w,t as V,p,w as a,q as U,v as ie,x as Ee,F as O,y as ce,z,A as xe,B as Ce,C as Ve,D as Te,G as $e,H as Oe,I as Re,J as Ie,K as je,L as Ne,M as B,O as M,P as ze,Q as de,R as q,S as Y,T as F,U as Z,V as ee,W as Ue,X as Me,Y as Ae,Z as _e,_ as Be,$ as De,a0 as He,a1 as qe,a2 as Fe,a3 as Je,a4 as We,a5 as Ge,a6 as Ke,a7 as Qe,a8 as Xe,a9 as Ye}from"./vendor-Ck_BNr_C.js";import"./index-CMA8CfmR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(l){if(l.ep)return;l.ep=!0;const s=o(l);fetch(l.href,s)}})();const Ze=C({__name:"App",setup(t){return(e,o)=>{const d=ae("RouterView");return g(),E(d)}}}),et="modulepreload",tt=function(t,e){return new URL(t,e).href},ne={},T=function(e,o,d){let l=Promise.resolve();if(o&&o.length>0){const c=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),u=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));l=Promise.allSettled(o.map(_=>{if(_=tt(_,d),_ in ne)return;ne[_]=!0;const v=_.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(!!d)for(let h=c.length-1;h>=0;h--){const k=c[h];if(k.href===_&&(!v||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${b}`))return;const n=document.createElement("link");if(n.rel=v?"stylesheet":et,v||(n.as="script"),n.crossOrigin="",n.href=_,u&&n.setAttribute("nonce",u),document.head.appendChild(n),v)return new Promise((h,k)=>{n.addEventListener("load",h),n.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function s(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return l.then(c=>{for(const m of c||[])m.status==="rejected"&&s(m.reason);return e().catch(s)})},ot={path:"/",name:"Layout",redirect:"/",component:()=>T(()=>Promise.resolve().then(()=>$t),void 0,import.meta.url),meta:{role:["common","admin"],parentRouter:"Home"},children:[{path:"/",name:"HomePage",component:()=>T(()=>Promise.resolve().then(()=>jt),void 0,import.meta.url),meta:{isShow:!0,title:"默认首页",parentRouter:"Layout"}},{path:"/user",name:"UserPage",component:()=>T(()=>Promise.resolve().then(()=>Bt),void 0,import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"}},{path:"/role",name:"RolePage",component:()=>T(()=>Promise.resolve().then(()=>qt),void 0,import.meta.url),meta:{title:"角色模块",isShow:!0,parentRouter:"Layout"}},{path:"/auth",name:"AuthPage",component:()=>T(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url),meta:{title:"权限模块",isShow:!0,parentRouter:"Layout"}},{path:"/about",name:"AboutPage",component:()=>T(()=>Promise.resolve().then(()=>Zt),void 0,import.meta.url),meta:{title:"关于模块",isShow:!0,parentRouter:"Layout"}},{path:"/project",name:"projectPage",component:()=>T(()=>Promise.resolve().then(()=>ro),void 0,import.meta.url),meta:{isShow:!0,title:"项目模块",parentRouter:"Layout"}},{path:"/p",name:"ParentPage",meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{isShow:!0,title:"子菜单1",parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{isShow:!0,title:"子菜单2",parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{isShow:!0,title:"子菜单3",parentRouter:"ParentPage"}}]},{path:"/errorView",name:"ErrorViewPage",component:()=>T(()=>import("./errorView-CA1uQUJr.js"),__vite__mapDeps([0,1,2]),import.meta.url),meta:{isShow:!0,title:"生产错误"}},{path:"/errorList",name:"ErrorListPage",component:()=>T(()=>Promise.resolve().then(()=>po),void 0,import.meta.url),meta:{isShow:!0,title:"错误列表"}}]},nt=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),rt={path:"/login",name:"login",component:()=>T(()=>Promise.resolve().then(()=>yo),void 0,import.meta.url),meta:{},children:[]},lt=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"}));var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const J=be();J.use(ye);const at=se("setting",{state:()=>({title:[],isCollapse:!1,isTagsView:!0,isBreadcrumb:!0,isLogo:!0,isFullScreen:!1}),actions:{setTitle(t){this.title=t},setCollapse(){this.isCollapse=!this.isCollapse},setTagsView(){this.isTagsView=!this.isTagsView},setBreadcrumb(){this.isBreadcrumb=!this.isBreadcrumb}},persist:{key:"setting",storage:sessionStorage}});function me(){return at(J)}const re=Object.assign({"./modules/home.ts":nt,"./modules/login.ts":lt}),pe=[];Object.keys(re).forEach(t=>pe.push(re[t].default));const te=ke({history:Se(),routes:pe});me();te.beforeEach((t,e,o)=>{ue.start(),o()});te.afterEach(()=>{ue.done()});const W=we(Ze);W.use(te);W.use(J);W.config.errorHandler=(t,e,o)=>{const l={stack_frames:Pe.parse(t),message:t.message,stack:t.stack,error_name:t.name};console.error(`触发一个${t.name}错误`),localStorage.setItem("jsErrorList",JSON.stringify(l))};W.mount("#app");const st={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function ut(t,e){return g(),y("svg",st,e[0]||(e[0]=[S("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1)]))}const it={name:"ep-close",render:ut},ct={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function dt(t,e){return g(),y("svg",ct,e[0]||(e[0]=[S("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1)]))}const _t={name:"ep-setting",render:dt},mt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function pt(t,e){return g(),y("svg",mt,e[0]||(e[0]=[S("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1)]))}const ft={name:"ep-user",render:pt},le=t=>{let e="";switch(t){case 400:e="请求错误(400)";break;case 403:e="拒绝访问(403)";break;case 401:e="未授权(401)";break;case 500:e="服务器错误(500)";break;case 503:e="服务不可用(503)";break;default:e=`连接出错(${t})!`}return e},G=Le.create({baseURL:"/api",timeout:15e3});G.interceptors.request.use(t=>t,t=>Promise.reject(t));G.interceptors.response.use(t=>(t.status===200||$.error(le(t.status)),t),t=>{const{response:e}=t;return e?($.error(le(e.status)),Promise.reject(e.data)):($.error("网络连接异常，请稍后再试！"),Promise.reject(t))});const fe=t=>{const e=t;return new Promise((o,d)=>{G.request(e).then(l=>{const s=l.data;s.code!=0?($({message:s.message,type:"error"}),d(s.message)):($({message:s.message,type:"success"}),o(s.data))})})};function oe(t,e,o){return fe({...t,url:e,method:"GET",params:o})}function ge(t,e,o){return fe({...t,url:e,method:"POST",data:o})}const gt=async t=>ge({},"/login",t),ht=async t=>ge({},"/getUserInfo",t),vt=async t=>G({url:"/getAuthList",method:"get",data:t}),he=se("userInfo",{state:()=>({username:"Topskys",accessToken:"",roles:["admin"]}),getters:{},actions:{storeUserLogin(t){return gt(t).then(e=>{const{roles:o=[],username:d,accessToken:l}=e;return this.roles=o,this.username=d,this.accessToken=l,e})},storeRefreshUserInfo(){this.username=="Topskys"&&this.accessToken!=""&&ht({accessToken:this.accessToken}).then(t=>(this.roles=t.roles,this.username=t.username,this.accessToken=t.accessToken,t)).catch(()=>{this.accessToken=" "})}},persist:{key:"userInfo",storage:sessionStorage}});function bt(){return he(J)}const yt={class:"header"},kt={class:"flex-center m05 color-dark-black"},St={class:"setting-header"},wt={class:"logout"},Pt=C({__name:"Header",setup(t){let e=P(!1);const o=H(),{username:d}=he(),l=()=>{e.value=!e.value},s=()=>{e.value=!1},c=()=>{sessionStorage.removeItem("userInfo"),o.push("/login")};return(m,u)=>{const _=ft,v=_t,b=it,i=U,n=Ee;return g(),y(O,null,[S("div",yt,[u[1]||(u[1]=S("div",{class:"flex-center"},"logo",-1)),u[2]||(u[2]=S("div",{class:"flex-grow"},null,-1)),S("div",kt,[r(_),w(" "+V(p(d)),1)]),S("div",{class:"flex-center m05 color-dark-black setting",onClick:l},[r(v)])]),r(n,{modelValue:p(e),"onUpdate:modelValue":u[0]||(u[0]=h=>ie(e)?e.value=h:e=h),title:"设置",size:"30%",direction:"rtl","width-header":!1,"show-close":!1,"append-to-body":""},{default:a(()=>[S("div",St,[u[3]||(u[3]=S("h2",null,"项目配置",-1)),r(b,{onClick:s})]),S("div",wt,[r(i,{type:"primary",onClick:c},{default:a(()=>u[4]||(u[4]=[w("退出")])),_:1})])]),_:1},8,["modelValue"])],64)}}}),j=(t,e)=>{const o=t.__vccOpts||t;for(const[d,l]of e)o[d]=l;return o},Lt=j(Pt,[["__scopeId","data-v-7d047d29"]]),Et=C({__name:"Aside",setup(t){var c;const e=ce(),d=(c=H().options.routes[0].children)==null?void 0:c.filter(m=>{var u;return(u=m.meta)==null?void 0:u.isShow}),l=P(!1),s=e.path;return(m,u)=>{const _=xe,v=Ce,b=Ve;return g(),E(b,{"default-active":p(s),class:"el-menu-vertical",collapse:l.value,router:""},{default:a(()=>[(g(!0),y(O,null,z(p(d),i=>(g(),y(O,{key:i.path},[i.children?(g(),E(v,{key:1,index:i.path},{title:a(()=>{var n;return[S("span",null,V((n=i.meta)==null?void 0:n.title),1)]}),default:a(()=>[(g(!0),y(O,null,z(i.children,n=>(g(),E(_,{key:n.path,index:n.path},{default:a(()=>{var h;return[S("span",null,V((h=n.meta)==null?void 0:h.title),1)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(g(),E(_,{key:0,index:i.path},{default:a(()=>{var n;return[w(V((n=i.meta)==null?void 0:n.title),1)]}),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])}}}),xt=C({__name:"Breadcrumb",setup(t){const e=me();return(o,d)=>{const l=Te,s=Oe;return g(),E(s,{"separator-icon":p($e)},{default:a(()=>[(g(!0),y(O,null,z(p(e).title,c=>(g(),E(l,{key:c,to:{name:c}},{default:a(()=>[w(V(c),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])}}}),Ct=j(xt,[["__scopeId","data-v-b9640813"]]),Vt=C({__name:"index",setup(t){return(e,o)=>{const d=Re,l=je,s=ae("router-view"),c=Ne,m=Ie;return g(),E(m,null,{default:a(()=>[r(d,null,{default:a(()=>[r(Lt)]),_:1}),r(m,{class:"main-container"},{default:a(()=>[r(l,null,{default:a(()=>[r(Et)]),_:1}),r(c,null,{default:a(()=>[r(Ct),r(s)]),_:1})]),_:1})]),_:1})}}}),Tt=j(Vt,[["__scopeId","data-v-b3d6f927"]]),$t=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),Ot=t=>oe({},"/projects",t),Rt={class:"home"},It=C({__name:"index",setup(t){let e=P([]),o=B({currentPage:1,pageSize:10,dataCount:0,title:"",introduce:""});const d=()=>{Ot().then(u=>{e.value=u||[],o.dataCount=u.length})};M(()=>{d()});let l=ze(()=>e.value.slice((o.currentPage-1)*o.pageSize,o.currentPage*o.pageSize));const s=u=>{o.currentPage=u},c=u=>{o.pageSize=u},m=()=>{let u=e.value;o.title&&(u=e.value.filter(_=>_.title.indexOf(o.title)>-1)),o.introduce&&(u=e.value.filter(_=>_.introduce.indexOf(o.introduce)>-1)),e.value=u,o.currentPage=1,o.dataCount=u.length};return de([()=>o.title,()=>o.introduce],()=>{d()}),(u,_)=>{const v=Y,b=q,i=U,n=F,h=Z,k=ee,L=Ue;return g(),y("div",Rt,[r(n,{inline:"",model:p(o),class:"search-form"},{default:a(()=>[r(b,{label:"项目名称"},{default:a(()=>[r(v,{modelValue:p(o).title,"onUpdate:modelValue":_[0]||(_[0]=x=>p(o).title=x),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),r(b,{label:"项目详情"},{default:a(()=>[r(v,{modelValue:p(o).introduce,"onUpdate:modelValue":_[1]||(_[1]=x=>p(o).introduce=x),placeholder:"请输入项目详情"},null,8,["modelValue"])]),_:1}),r(b,null,{default:a(()=>[r(i,{type:"primary",onClick:m},{default:a(()=>_[4]||(_[4]=[w("查询")])),_:1})]),_:1})]),_:1},8,["model"]),r(k,{data:p(l),border:"",style:{width:"100%"}},{default:a(()=>[r(h,{prop:"id",label:"编号",width:"180"}),r(h,{prop:"title",label:"标题",width:"180"}),r(h,{prop:"introduce",label:"描述"})]),_:1},8,["data"]),r(L,{"current-page":p(o).currentPage,"onUpdate:currentPage":_[2]||(_[2]=x=>p(o).currentPage=x),"page-size":p(o).pageSize,"onUpdate:pageSize":_[3]||(_[3]=x=>p(o).pageSize=x),background:"","page-sizes":[5,10,15,20,25,30],size:"default",layout:"total,prev, pager, next,sizes",total:p(o).dataCount,onSizeChange:c,onCurrentChange:s},null,8,["current-page","page-size","total"])])}}}),jt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),ve=async t=>oe({},"/getRoleList",t),Nt=async t=>oe({},"/getUserList",t),zt={class:"container"},Ut={class:"dialog-footer"},Mt=C({__name:"index",setup(t){const e=P([]),o=B({nickName:"",role:0}),d=P([]),l=P(!1);let s=B({id:0,nickName:"",role:[],userName:""});const c=i=>{Object.assign(s,{...i,role:i.role.map(n=>n.role)}),l.value=!0},m=()=>{l.value=!1;let i=e.value.find(n=>n.id===s.id);i.nickName=s.nickName,i.role=[],d.value.forEach(n=>{s.role.find(h=>h===n.roleId)&&i.role.push({role:n.roleId,roleName:n.roleName})})},u=i=>{console.log(i)},_=()=>{Nt().then(i=>{e.value=i}).catch(()=>{})},v=()=>{ve().then(i=>{d.value=i}).catch(()=>{})};M(()=>{_(),v()});const b=()=>{let i=[];o.nickName||o.role?(o.nickName&&(i=e.value.filter(n=>n.nickName.indexOf(o.nickName)!==-1)),o.role&&(i=o.nickName?i:e.value,i=i.filter(n=>n.role.find(h=>h.role===o.role)))):i=e.value,e.value=i};return de([()=>o.nickName,()=>o.role],(i,n)=>{(o.nickName===""||o.role===0)&&b()}),(i,n)=>{const h=Y,k=q,L=Ae,x=Me,R=U,D=F,N=Z,K=ee,Q=_e;return g(),y("div",zt,[r(D,{inline:"",model:p(o),class:"search-form"},{default:a(()=>[r(k,{label:"姓名",prop:"nickName"},{default:a(()=>[r(h,{modelValue:p(o).nickName,"onUpdate:modelValue":n[0]||(n[0]=f=>p(o).nickName=f),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),r(k,{label:"角色",prop:"role"},{default:a(()=>[r(x,{modelValue:p(o).role,"onUpdate:modelValue":n[1]||(n[1]=f=>p(o).role=f),placeholder:"请选择角色",multiple:"",class:"w192"},{default:a(()=>[(g(),E(L,{key:0,label:"全部",value:0})),(g(!0),y(O,null,z(p(d),f=>(g(),E(L,{key:f.roleId,label:f.roleName,value:f.roleId},{default:a(()=>[w(V(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(k,null,{default:a(()=>[r(R,{type:"primary",onClick:b},{default:a(()=>n[6]||(n[6]=[w("查询")])),_:1})]),_:1})]),_:1},8,["model"]),r(K,{data:p(e),border:"",style:{width:"100%"}},{default:a(()=>[r(N,{prop:"id",label:"ID",width:"180"}),r(N,{prop:"nickName",label:"姓名"}),r(N,{prop:"role",label:"角色"},{default:a(f=>[(g(!0),y(O,null,z(f.row.role,I=>(g(),E(R,{key:I.role,link:"",type:"primary",size:"small"},{default:a(()=>[w(V(I.roleName),1)]),_:2},1024))),128))]),_:1}),r(N,{label:"操作"},{default:a(f=>[r(R,{type:"primary",size:"small",link:"",onClick:I=>c(f.row)},{default:a(()=>n[7]||(n[7]=[w("编辑")])),_:2},1032,["onClick"]),r(R,{type:"danger",size:"small",link:"",onClick:I=>u(f.row)},{default:a(()=>n[8]||(n[8]=[w("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),r(Q,{modelValue:p(l),"onUpdate:modelValue":n[5]||(n[5]=f=>ie(l)?l.value=f:null),title:"编辑用户信息"},{footer:a(()=>[S("span",Ut,[r(R,{onClick:n[4]||(n[4]=f=>l.value=!1)},{default:a(()=>n[9]||(n[9]=[w("取消")])),_:1}),r(R,{type:"primary",onClick:m},{default:a(()=>n[10]||(n[10]=[w("确定")])),_:1})])]),default:a(()=>[r(D,{model:p(s),size:"large"},{default:a(()=>[r(k,{label:"用户昵称"},{default:a(()=>[r(h,{modelValue:p(s).nickName,"onUpdate:modelValue":n[2]||(n[2]=f=>p(s).nickName=f),autocomplete:"off"},null,8,["modelValue"])]),_:1}),r(k,{label:"用户角色"},{default:a(()=>[r(x,{modelValue:p(s).role,"onUpdate:modelValue":n[3]||(n[3]=f=>p(s).role=f),placeholder:"请选择角色",multiple:""},{default:a(()=>[(g(!0),y(O,null,z(p(d),f=>(g(),E(L,{key:f.roleId,label:f.roleName,value:f.roleId},{default:a(()=>[w(V(f.roleName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),At=j(Mt,[["__scopeId","data-v-e9ab6625"]]),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),Dt={class:"container"},Ht=C({__name:"index",setup(t){let e=P([]);const o=H(),d=()=>{ve().then(c=>{e.value=c})};M(()=>{d()});const l=()=>{Be.prompt("请输入角色名称!","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:c,action:m})=>{c&&(e.value.push({role:e.value.length+1,roleName:c,authority:[]}),$({type:"success",message:`${c}添加成功`}))}).catch(c=>{$({type:"info",message:"点击了取消按钮"})})},s=c=>{o.push({path:"auth",query:{id:c.role,auth:c.authority}})};return(c,m)=>{const u=U,_=q,v=F,b=Z,i=ee;return g(),y("div",Dt,[r(v,null,{default:a(()=>[r(_,null,{default:a(()=>[r(u,{type:"primary",onClick:l},{default:a(()=>m[0]||(m[0]=[w("新增角色")])),_:1})]),_:1})]),_:1}),r(i,{data:p(e),border:"",style:{width:"100%"}},{default:a(()=>[r(b,{prop:"roleId",label:"ID",width:"180px"}),r(b,{prop:"roleName",label:"角色名称",width:"180px"}),r(b,{label:"操作"},{default:a(n=>[r(u,{type:"primary",size:"small",link:"",onClick:h=>s(n.row)},{default:a(()=>m[1]||(m[1]=[w("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}}),qt=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),Ft={class:"container"},Jt=C({__name:"index",setup(t){const e=ce(),{query:o}=e;let d=P([]),l=P(null),s=P([]);o.auth&&(s.value=o.auth);const c=()=>{vt().then(u=>{d.value=u.data.data})};M(()=>{c()});const m=()=>{l.value.getCheckedNodes()};return(u,_)=>{const v=De,b=U;return g(),y("div",Ft,[r(v,{ref_key:"treeRef",ref:l,data:p(d),props:{children:"roleList",label:"name"},"show-checkbox":"","node-key":"roleId","default-expand-all":"","highlight-current":"","check-strictly":!0,"default-checked-keys":p(s)},null,8,["data","default-checked-keys"]),r(b,{type:"primary",onClick:m},{default:a(()=>_[0]||(_[0]=[w("修改权限")])),_:1})])}}}),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),Gt={class:"custom-tag"},Kt=C({__name:"Tag",props:{text:{type:String,default:null,require:!1},theme:{type:String,default:null,require:!1}},setup(t){const e=t,o=P(),d=()=>{o.value.innerHTML=e.text},l=()=>{o.value.style.backgroundColor=e.theme};return M(()=>{d(),l()}),(s,c)=>(g(),y("div",Gt,[S("span",He(e,{ref_key:"tagRef",ref:o,class:"tag"}),null,16)]))}}),Qt=j(Kt,[["__scopeId","data-v-57ad97aa"]]),Xt={class:"container"},Yt=C({__name:"index",setup(t){return(e,o)=>{const d=Qt;return g(),y("div",Xt,[r(d,{text:"CustomTag",theme:"blue"}),r(d,{text:"测试自定义组件",theme:"blue"})])}}}),Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),eo={},to={class:"container"};function oo(t,e){return g(),y("div",to,"user")}const no=j(eo,[["render",oo]]),ro=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),lo={name:"PreView",props:{origin:{type:Object,default(){return{}}}},methods:{preLine(){var m,u,_,v;console.log("------origin--------",this.origin,(m=this.origin)==null?void 0:m.line,(u=this.origin)==null?void 0:u.source);const t=this.origin.line,e=(v=(_=this.origin)==null?void 0:_.source)==null?void 0:v.split(`
`),o=e.length-1,d=t-3>=0?t-3:0,l=d+5>=o?o:d+5;let s=[];for(var c=d;c<=l;c++){const b=c+1+".    "+this.encodeHTML(e[c]);s.push(`<div class='code-line ${c+1==t?"heightlight":""}'>${b}</div>`)}return s.join("")},encodeHTML(t){return!t||t.length==0?"":t.replace(/&/g,"&#38;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")}}},ao={class:"pre-code"},so={class:"error-detail"},uo=["innerHTML"];function io(t,e,o,d,l,s){return g(),y("div",ao,[S("div",so,[S("pre",{class:"error-code",innerHTML:s.preLine()},null,8,uo)])])}const co=j(lo,[["render",io]]),_o={key:0},mo=C({__name:"ErrorList",setup(t){const e=P([]),o=P(!1),d=P("1"),l=P(!1),s=P("local");let c={line:0,column:0,index:null};const m=()=>{try{const i=localStorage.getItem("jsErrorList");if(!i)return;e.value=JSON.parse(i),o.value=!0}catch(i){console.log("获取错误列表失败",i)}};M(()=>{m()});const u=i=>{},_=(i,n)=>{l.value=!0,c={line:i.lineNumber,column:i.columnNumber,index:n}},v=async i=>{if(i.name.substring(i.name.lastIndexOf(".")+1)!=="map"){$({message:"请上传正确的sourcemap文件",type:"error"});return}const n=new FileReader;n.readAsText(i),n.onload=async function(h){var L;const k=await b((L=h==null?void 0:h.target)==null?void 0:L.result,c.line,c.column);e.value.stack_frames[c.index].originalSource=k==null?void 0:k.source,l.value=!1}},b=async(i,n,h)=>{try{const k=await new Ye.SourceMapConsumer(JSON.parse(i)),L=k.originalPositionFor({line:n,column:h});return{source:k.sourceContentFor(L.source),line:L.line,column:L.column}}catch{$.error("sourcemap解析失败")}};return(i,n)=>{const h=Je,k=U,L=Fe,x=qe,R=We,D=Qe,N=Ke,K=Ge,Q=_e;return o.value?(g(),y("div",_o,[S("pre",null,"      "+V(e.value.stack)+`
    `,1),r(R,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=f=>d.value=f),onChange:u},{default:a(()=>[(g(!0),y(O,null,z(e.value.stack_frames,(f,I)=>(g(),E(x,{key:I,title:f.source,name:I},{default:a(()=>[r(L,{gutter:20},{default:a(()=>[r(h,{span:20},{default:a(()=>[w(V(f.fileName),1)]),_:2},1024),r(h,{span:4},{default:a(()=>[r(k,{type:"primary",size:"small",onClick:ko=>_(f,I)},{default:a(()=>n[3]||(n[3]=[w("映射源码")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),r(L,{gutter:20},{default:a(()=>[f.originalSource?(g(),E(co,{key:0,origin:f.originalSource},null,8,["origin"])):(g(),y(O,{key:1},[w(V(f.functionName),1)],64))]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),r(Q,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=f=>l.value=f),title:"SourceMap源码映射",width:"500"},{default:a(()=>[r(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=f=>s.value=f)},{default:a(()=>[r(N,{label:"本地上传",name:"local"},{default:a(()=>[r(D,{drag:"","before-upload":v},{default:a(()=>n[4]||(n[4]=[S("i",{class:"el-icon-upload"},null,-1),S("div",null,[w("将文件拖拽到此处，或者"),S("em",null,"点击上传")],-1)])),_:1})]),_:1}),r(N,{label:"远程加载",name:"remote"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])):Xe("",!0)}}}),po=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));let X="",A=null;function fo(t){const{type:e=""}=t;A&&e===X||(X=e,A&&A.close(),A=$({...t,onClose:()=>{X="",A=null}}))}function go(){return P()}const ho={class:"login-box"},vo=C({__name:"index",setup(t){const e=go(),{storeUserLogin:o}=bt(),d=H(),l=B({username:"admin",password:"admin"}),s=B({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=m=>{m&&m.validate(u=>{u?o(l).then(()=>{d.push("/")}):fo({message:"用户名或密码错误",type:"error"})})};return(m,u)=>{const _=Y,v=q,b=U,i=F;return g(),y("div",ho,[r(i,{ref_key:"formRef",ref:e,rules:p(s),model:p(l),size:"large",class:"form"},{default:a(()=>[u[4]||(u[4]=S("span",{class:"form-title"},"企业中台登录",-1)),r(v,{prop:"username"},{default:a(()=>[r(_,{modelValue:p(l).username,"onUpdate:modelValue":u[0]||(u[0]=n=>p(l).username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),r(v,{prop:"password"},{default:a(()=>[r(_,{modelValue:p(l).password,"onUpdate:modelValue":u[1]||(u[1]=n=>p(l).password=n),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),r(v,null,{default:a(()=>[r(b,{type:"primary",class:"submit-button",onClick:u[2]||(u[2]=n=>c(p(e)))},{default:a(()=>u[3]||(u[3]=[w("Submit")])),_:1})]),_:1})]),_:1},8,["rules","model"])])}}}),bo=j(vo,[["__scopeId","data-v-a6fb7e0c"]]),yo=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));export{Po as c,Lo as g};
//# sourceMappingURL=index-CMA8CfmR.js.map
