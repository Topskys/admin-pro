import{aj as n,ak as a}from"./index-CjK0VcF5.js";import{l as c,r as i}from"./auth-Q3AArIkp.js";const u=a("userInfo",{state:()=>({username:"Topskys",accessToken:"",roles:["admin"]}),getters:{},actions:{storeUserLogin(s){return c(s).then(e=>{const{roles:o=[],username:r,accessToken:t}=e;return this.roles=o,this.username=r,this.accessToken=t,e})},storeRefreshUserInfo(){this.username=="Topskys"&&this.accessToken!=""&&i({accessToken:this.accessToken}).then(s=>(this.roles=s.roles,this.username=s.username,this.accessToken=s.accessToken,s)).catch(()=>{this.accessToken=" "})}},persist:{key:"userInfo",storage:sessionStorage}});function f(){return u(n)}export{f as a,u};
