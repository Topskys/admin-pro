import{i as n}from"../../vendor-CpPSV6_x.js";import{p as a,l as c,r as i}from"../../common-CFxLB9Tb.js";const u=n("userInfo",{state:()=>({username:"Topskys",accessToken:"",roles:["admin"]}),getters:{},actions:{storeUserLogin(s){return c(s).then(e=>{const{roles:o=[],username:r,accessToken:t}=e;return this.roles=o,this.username=r,this.accessToken=t,e})},storeRefreshUserInfo(){this.username=="Topskys"&&this.accessToken!=""&&i({accessToken:this.accessToken}).then(s=>(this.roles=s.roles,this.username=s.username,this.accessToken=s.accessToken,s)).catch(()=>{this.accessToken=" "})}},persist:{key:"userInfo",storage:sessionStorage}});function f(){return u(a)}export{f as a,u};
