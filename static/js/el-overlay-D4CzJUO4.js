import{t as C,a as T,O as M,k as c,a9 as b,j as A,r as N,b as L,d as f}from"./request-jmr87h59.js";import{g as O}from"./el-popper-BkuYxvSn.js";import{W as l,a1 as p,M as k,k as w,A as _,a4 as R,a5 as m,d as Y,m as D,b as y,C as x}from"./index-CjK0VcF5.js";var i=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(i||{});const E=e=>{const t=l(e)?e:[e],n=[];return t.forEach(o=>{var r;l(o)?n.push(...E(o)):p(o)&&l(o.children)?n.push(...E(o.children)):(n.push(o),p(o)&&((r=o.component)!=null&&r.subTree)&&n.push(...E(o.component.subTree)))}),n},W=(e,t={})=>{k(e)||C("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||T("popup"),o=w(()=>n.bm("parent","hidden"));if(!M||c(document.body,o.value))return;let r=0,u=!1,s="0";const d=()=>{setTimeout(()=>{typeof document>"u"||(N(document==null?void 0:document.body,o.value),u&&document&&(document.body.style.width=s))},200)};_(e,a=>{if(!a){d();return}u=!c(document.body,o.value),u&&(s=document.body.style.width),r=O(n.namespace.value);const S=document.documentElement.clientHeight<document.body.scrollHeight,v=b(document.body,"overflowY");r>0&&(S||v==="scroll")&&u&&(document.body.style.width=`calc(100% - ${r}px)`),A(document.body,o.value)}),R(()=>d())},I=e=>{if(!e)return{onClick:m,onMousedown:m,onMouseup:m};let t=!1,n=!1;return{onClick:s=>{t&&n&&e(s),t=n=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},H=L({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:f([String,Array,Object])},zIndex:{type:f([String,Number])}}),B={click:e=>e instanceof MouseEvent},G="overlay";var z=Y({name:"ElOverlay",props:H,emits:B,setup(e,{slots:t,emit:n}){const o=T(G),r=a=>{n("click",a)},{onClick:u,onMousedown:s,onMouseup:d}=I(e.customMaskEvent?void 0:r);return()=>e.mask?D("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:s,onMouseup:d},[y(t,"default")],i.STYLE|i.CLASS|i.PROPS,["onClick","onMouseup","onMousedown"]):x("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(t,"default")])}});const j=z;export{j as E,W as a,E as f,I as u};
