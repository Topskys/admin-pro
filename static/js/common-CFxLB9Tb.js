import{h as W,s as G,i as J}from"./vendor-CpPSV6_x.js";import{u as d,A as E,d as x,a as M,i as U,C as I,b as f,V as v,m as R,c as K,e as $,t as Q,f as X,g as Y}from"./axios-BGtzecez.js";import{b as A}from"./element-plus-BTycu_U5.js";const D=W();D.use(G);const Z=J("setting",{state:()=>({title:[],isCollapse:!1,isTagsView:!0,isBreadcrumb:!0,isLogo:!0,isFullScreen:!1}),actions:{setTitle(t){this.title=t},setCollapse(){this.isCollapse=!this.isCollapse},setTagsView(){this.isTagsView=!this.isTagsView},setBreadcrumb(){this.isBreadcrumb=!this.isBreadcrumb}},persist:{key:"setting",storage:sessionStorage}});function oe(){return Z(D)}class _{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){d.forEach(this.handlers,function(r){r!==null&&e(r)})}}function S(t,e){const s=this||x,r=e||s,a=E.from(r.headers);let n=r.data;return d.forEach(t,function(i){n=i.call(s,n,a.normalize(),e?e.status:void 0)}),a.normalize(),n}function q(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new I(null,t)}function j(t){return q(t),t.headers=E.from(t.headers),t.data=S.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),M.getAdapter(t.adapter||x.adapter)(t).then(function(r){return q(t),r.data=S.call(t,t.transformResponse,r),r.headers=E.from(r.headers),r},function(r){return U(r)||(q(t),r&&r.response&&(r.response.data=S.call(t,t.transformResponse,r.response),r.response.headers=E.from(r.response.headers))),Promise.reject(r)})}const O={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{O[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const F={};O.transitional=function(e,s,r){function a(n,o){return"[Axios v"+v+"] Transitional option '"+n+"'"+o+(r?". "+r:"")}return(n,o,i)=>{if(e===!1)throw new f(a(o," has been removed"+(s?" in "+s:"")),f.ERR_DEPRECATED);return s&&!F[o]&&(F[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(n,o,i):!0}};function ee(t,e,s){if(typeof t!="object")throw new f("options must be an object",f.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const n=r[a],o=e[n];if(o){const i=t[n],w=i===void 0||o(i,n,t);if(w!==!0)throw new f("option "+n+" must be "+w,f.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new f("Unknown option "+n,f.ERR_BAD_OPTION)}}const g={assertOptions:ee,validators:O},m=g.validators;class b{constructor(e){this.defaults=e,this.interceptors={request:new _,response:new _}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const n=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?n&&!String(r.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+n):r.stack=n}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=R(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:n}=s;r!==void 0&&g.assertOptions(r,{silentJSONParsing:m.transitional(m.boolean),forcedJSONParsing:m.transitional(m.boolean),clarifyTimeoutError:m.transitional(m.boolean)},!1),a!=null&&(d.isFunction(a)?s.paramsSerializer={serialize:a}:g.assertOptions(a,{encode:m.function,serialize:m.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=n&&d.merge(n.common,n[s.method]);n&&d.forEach(["delete","get","head","post","put","patch","common"],l=>{delete n[l]}),s.headers=E.concat(o,n);const i=[];let w=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(s)===!1||(w=w&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});const T=[];this.interceptors.response.forEach(function(h){T.push(h.fulfilled,h.rejected)});let p,c=0,y;if(!w){const l=[j.bind(this),void 0];for(l.unshift.apply(l,i),l.push.apply(l,T),y=l.length,p=Promise.resolve(s);c<y;)p=p.then(l[c++],l[c++]);return p}y=i.length;let C=s;for(c=0;c<y;){const l=i[c++],h=i[c++];try{C=l(C)}catch(z){h.call(this,z);break}}try{p=j.call(this,C)}catch(l){return Promise.reject(l)}for(c=0,y=T.length;c<y;)p=p.then(T[c++],T[c++]);return p}getUri(e){e=R(this.defaults,e);const s=K(e.baseURL,e.url);return $(s,e.params,e.paramsSerializer)}}d.forEach(["delete","get","head","options"],function(e){b.prototype[e]=function(s,r){return this.request(R(r||{},{method:e,url:s,data:(r||{}).data}))}});d.forEach(["post","put","patch"],function(e){function s(r){return function(n,o,i){return this.request(R(i||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}b.prototype[e]=s(),b.prototype[e+"Form"]=s(!0)});class N{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(n){s=n});const r=this;this.promise.then(a=>{if(!r._listeners)return;let n=r._listeners.length;for(;n-- >0;)r._listeners[n](a);r._listeners=null}),this.promise.then=a=>{let n;const o=new Promise(i=>{r.subscribe(i),n=i}).then(a);return o.cancel=function(){r.unsubscribe(n)},o},e(function(n,o,i){r.reason||(r.reason=new I(n,o,i),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new N(function(a){e=a}),cancel:e}}}function te(t){return function(s){return t.apply(null,s)}}function re(t){return d.isObject(t)&&t.isAxiosError===!0}const k={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k).forEach(([t,e])=>{k[e]=t});function H(t){const e=new b(t),s=Y(b.prototype.request,e);return d.extend(s,b.prototype,e,{allOwnKeys:!0}),d.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return H(R(t,a))},s}const u=H(x);u.Axios=b;u.CanceledError=I;u.CancelToken=N;u.isCancel=U;u.VERSION=v;u.toFormData=Q;u.AxiosError=f;u.Cancel=u.CanceledError;u.all=function(e){return Promise.all(e)};u.spread=te;u.isAxiosError=re;u.mergeConfig=R;u.AxiosHeaders=E;u.formToJSON=t=>X(d.isHTMLForm(t)?new FormData(t):t);u.getAdapter=M.getAdapter;u.HttpStatusCode=k;u.default=u;const L=t=>{let e="";switch(t){case 400:e="请求错误(400)";break;case 403:e="拒绝访问(403)";break;case 401:e="未授权(401)";break;case 500:e="服务器错误(500)";break;case 503:e="服务不可用(503)";break;default:e=`连接出错(${t})!`}return e},P=u.create({baseURL:"/api",timeout:15e3});P.interceptors.request.use(t=>t,t=>Promise.reject(t));P.interceptors.response.use(t=>(t.status===200||A.error(L(t.status)),t),t=>{const{response:e}=t;return e?(A.error(L(e.status)),Promise.reject(e.data)):(A.error("网络连接异常，请稍后再试！"),Promise.reject(t))});const V=t=>{const e=t;return new Promise((s,r)=>{P.request(e).then(a=>{const n=a.data;n.code!=0?(A({message:n.message,type:"error"}),r(n.message)):(A({message:n.message,type:"success"}),s(n.data))})})};function ie(t,e,s){return V({...t,url:e,method:"GET",params:s})}function B(t,e,s){return V({...t,url:e,method:"POST",data:s})}const ue=async t=>B({},"/login",t),le=async t=>B({},"/getUserInfo",t),ce=async t=>P({url:"/getAuthList",method:"get",data:t});export{ie as a,ce as g,ue as l,D as p,le as r,oe as u};
