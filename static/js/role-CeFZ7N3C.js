import{n as b,o as x,t as y,b as r,a as g,r as E,s as C}from"./element-plus-BTycu_U5.js";import{g as k}from"./shared/role/user-8JVHZRdF.js";import{d as B,r as w,aq as T,o as N,a as R,c as v,e as t,w as o,f as I,g as m}from"./vendor-CpPSV6_x.js";import"./common-CFxLB9Tb.js";import"./axios-BGtzecez.js";const L={class:"container"},D=B({__name:"index",setup(M){let n=w([]);const c=T(),i=()=>{k().then(e=>{n.value=e})};N(()=>{i()});const p=()=>{y.prompt("请输入角色名称!","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e,action:a})=>{e&&(n.value.push({role:n.value.length+1,roleName:e,authority:[]}),r({type:"success",message:`${e}添加成功`}))}).catch(e=>{r({type:"info",message:"点击了取消按钮"})})},u=e=>{c.push({path:"auth",query:{id:e.role,auth:e.authority}})};return(e,a)=>{const s=g,_=E,d=b,l=C,f=x;return R(),v("div",L,[t(d,null,{default:o(()=>[t(_,null,{default:o(()=>[t(s,{type:"primary",onClick:p},{default:o(()=>a[0]||(a[0]=[m("新增角色")])),_:1})]),_:1})]),_:1}),t(f,{data:I(n),border:"",style:{width:"100%"}},{default:o(()=>[t(l,{prop:"roleId",label:"ID",width:"180px"}),t(l,{prop:"roleName",label:"角色名称",width:"180px"}),t(l,{label:"操作"},{default:o(h=>[t(s,{type:"primary",size:"small",link:"",onClick:q=>u(h.row)},{default:o(()=>a[1]||(a[1]=[m("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{D as default};
